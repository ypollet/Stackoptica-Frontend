import{ag as ge,ah as gr,ai as kr,aj as H,ak as rr}from"./vendor-nNgrRyqm.js";var me={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function je(r,e){if(mr(r,e))return r[e];throw typeof r[e]=="function"&&ru(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function ke(r,e,u){if(mr(r,e))return r[e]=u,u;throw new Error('No access to property "'+e+'"')}function mr(r,e){return!eu(r)&&!Array.isArray(r)?!1:vr(uu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ru(r,e){return r==null||typeof r[e]!="function"||vr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:vr(tu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function eu(r){return typeof r=="object"&&r&&r.constructor===Object}var uu={length:!0,name:!0},tu={toString:!0,valueOf:!0,toLocaleString:!0};class nu{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return je(this.wrappedObject,e)}set(e,u){return ke(this.wrappedObject,e,u),this}has(e){return mr(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return au(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var u of this.keys())e(this.get(u),u,this)}delete(e){mr(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function au(r,e){return{next:()=>{var u=r.next();return u.done?u:{value:e(u.value),done:!1}}}}function I(r){return typeof r=="number"}function Z(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function iu(r){return typeof r=="bigint"}function Ce(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function we(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function ye(r){return r&&r.constructor.prototype.isUnit===!0||!1}function j(r){return typeof r=="string"}var R=Array.isArray;function Q(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function lr(r){return Array.isArray(r)||Q(r)}function ou(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function Du(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function su(r){return r&&r.constructor.prototype.isRange===!0||!1}function $r(r){return r&&r.constructor.prototype.isIndex===!0||!1}function fu(r){return typeof r=="boolean"}function cu(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function lu(r){return r&&r.constructor.prototype.isHelp===!0||!1}function vu(r){return typeof r=="function"}function pu(r){return r instanceof Date}function hu(r){return r instanceof RegExp}function Ir(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Ce(r)&&!we(r))}function Fu(r){return r?r instanceof Map||r instanceof nu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function Au(r){return r===null}function Eu(r){return r===void 0}function du(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function gu(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function mu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cu(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function wu(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function yu(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function Bu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function _u(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function Su(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function xu(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mu(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tu(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function zu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Ou(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function $u(r){return r&&r.constructor.prototype.isChain===!0||!1}function k(r){var e=typeof r;return e==="object"?r===null?"null":Z(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function V(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(u){return V(u)});if(r instanceof Date)return new Date(r.valueOf());if(Z(r))return r;if(Ir(r))return Iu(r,V);if(e==="function")return r;throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Iu(r,e){var u={};for(var n in r)vr(r,n)&&(u[n]=e(r[n]));return u}function Pu(r,e){for(var u in e)vr(e,u)&&(r[u]=e[u]);return r}function er(r,e){var u,n,t;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,t=r.length;n<t;n++)if(!er(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(u in r)if(!(u in e)||!er(r[u],e[u]))return!1;for(u in e)if(!(u in r))return!1;return!0}else return r===e}}function vr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Uu(r,e){for(var u={},n=0;n<e.length;n++){var t=e[n],i=r[t];i!==void 0&&(u[t]=i)}return u}var qu=["Matrix","Array"],Ru=["number","BigNumber","Fraction"],Y=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(me)};ge(Y,me,{MATRIX_OPTIONS:qu,NUMBER_OPTIONS:Ru});function N(r,e,u,n){function t(i){var s=Uu(i,e.map(Wu));return Lu(r,e,i),u(s)}return t.isFactory=!0,t.fn=r,t.dependencies=e.slice().sort(),n&&(t.meta=n),t}function Lu(r,e,u){var n=e.filter(i=>!Ju(i)).every(i=>u[i]!==void 0);if(!n){var t=e.filter(i=>u[i]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(t.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function Ju(r){return r&&r[0]==="?"}function Wu(r){return r&&r[0]==="?"?r.slice(1):r}function L(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Vu(r){return/^-?\d+$/.test(r)}function Pr(r,e){return e.number==="bigint"&&!Vu(r)?e.numberFallback:e.number}function Nr(r,e,u){var n={2:"0b",8:"0o",16:"0x"},t=n[e],i="";if(u){if(u<1)throw new Error("size must be in greater than 0");if(!L(u))throw new Error("size must be an integer");if(r>2**(u-1)-1||r<-(2**(u-1)))throw new Error("Value must be in range [-2^".concat(u-1,", 2^").concat(u-1,"-1]"));if(!L(r))throw new Error("Value must be an integer");r<0&&(r=r+2**u),i="i".concat(u)}var s="";return r<0&&(r=-r,s="-"),"".concat(s).concat(t).concat(r.toString(e)).concat(i)}function Tr(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:u,precision:n,wordSize:t}=Be(e);switch(u){case"fixed":return _e(r,n);case"exponential":return be(r,n);case"engineering":return Zu(r,n);case"bin":return Nr(r,2,t);case"oct":return Nr(r,8,t);case"hex":return Nr(r,16,t);case"auto":return Hu(r,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],s=arguments[4];return i!=="."?i+s:s});default:throw new Error('Unknown notation "'+u+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Be(r){var e="auto",u,n;if(r!==void 0)if(I(r))u=r;else if(Z(r))u=r.toNumber();else if(Ir(r))r.precision!==void 0&&(u=re(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=re(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:u,wordSize:n}}function Fr(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var u=e[1],n=e[2],t=parseFloat(e[4]||"0"),i=n.indexOf(".");t+=i!==-1?i-1:n.length-1;var s=n.replace(".","").replace(/^0*/,function(c){return t-=c.length,""}).replace(/0*$/,"").split("").map(function(c){return parseInt(c)});return s.length===0&&(s.push(0),t++),{sign:u,coefficients:s,exponent:t}}function Zu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var u=Fr(r),n=_r(u,e),t=n.exponent,i=n.coefficients,s=t%3===0?t:t<0?t-3-t%3:t-t%3;if(I(e))for(;e>i.length||t-s+1>i.length;)i.push(0);else for(var c=Math.abs(t-s)-(i.length-1),o=0;o<c;o++)i.push(0);for(var F=Math.abs(t-s),D=1;F>0;)D++,F--;var h=i.slice(D).join(""),p=I(e)&&h.length||h.match(/[1-9]/)?"."+h:"",f=i.slice(0,D).join("")+p+"e"+(t>=0?"+":"")+s.toString();return n.sign+f}function _e(r,e){if(isNaN(r)||!isFinite(r))return String(r);var u=Fr(r),n=typeof e=="number"?_r(u,u.exponent+1+e):u,t=n.coefficients,i=n.exponent+1,s=i+(e||0);return t.length<s&&(t=t.concat(or(s-t.length))),i<0&&(t=or(-i+1).concat(t),i=1),i<t.length&&t.splice(i,0,i===0?"0.":"."),n.sign+t.join("")}function be(r,e){if(isNaN(r)||!isFinite(r))return String(r);var u=Fr(r),n=e?_r(u,e):u,t=n.coefficients,i=n.exponent;t.length<e&&(t=t.concat(or(e-t.length)));var s=t.shift();return n.sign+s+(t.length>0?"."+t.join(""):"")+"e"+(i>=0?"+":"")+i}function Hu(r,e,u){if(isNaN(r)||!isFinite(r))return String(r);var n=ee(u==null?void 0:u.lowerExp,-3),t=ee(u==null?void 0:u.upperExp,5),i=Fr(r),s=e?_r(i,e):i;if(s.exponent<n||s.exponent>=t)return be(r,e);var c=s.coefficients,o=s.exponent;c.length<e&&(c=c.concat(or(e-c.length))),c=c.concat(or(o-c.length+1+(c.length<e?e-c.length:0))),c=or(-o).concat(c);var F=o>0?o:0;return F<c.length-1&&c.splice(F+1,0,"."),s.sign+c.join("")}function _r(r,e){for(var u={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=u.coefficients;e<=0;)n.unshift(0),u.exponent++,e++;if(n.length>e){var t=n.splice(e,n.length-e);if(t[0]>=5){var i=e-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),u.exponent++,i++),i--,n[i]++}}return u}function or(r){for(var e=[],u=0;u<r;u++)e.push(0);return e}function Gu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function ur(r,e){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(u<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(u*Math.max(Math.abs(r),Math.abs(e)),n)}function re(r,e){if(I(r))return r;if(Z(r))return r.toNumber();e()}function ee(r,e){return I(r)?r:Z(r)?r.toNumber():e}var Se=function(){return Se=gr.create,gr},Xu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Ku=N("typed",Xu,function(e){var{BigNumber:u,Complex:n,DenseMatrix:t,Fraction:i}=e,s=Se();return s.clear(),s.addTypes([{name:"number",test:I},{name:"Complex",test:Ce},{name:"BigNumber",test:Z},{name:"bigint",test:iu},{name:"Fraction",test:we},{name:"Unit",test:ye},{name:"identifier",test:c=>j&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(c)},{name:"string",test:j},{name:"Chain",test:$u},{name:"Array",test:R},{name:"Matrix",test:Q},{name:"DenseMatrix",test:ou},{name:"SparseMatrix",test:Du},{name:"Range",test:su},{name:"Index",test:$r},{name:"boolean",test:fu},{name:"ResultSet",test:cu},{name:"Help",test:lu},{name:"function",test:vu},{name:"Date",test:pu},{name:"RegExp",test:hu},{name:"null",test:Au},{name:"undefined",test:Eu},{name:"AccessorNode",test:du},{name:"ArrayNode",test:gu},{name:"AssignmentNode",test:mu},{name:"BlockNode",test:Cu},{name:"ConditionalNode",test:wu},{name:"ConstantNode",test:yu},{name:"FunctionNode",test:_u},{name:"FunctionAssignmentNode",test:Bu},{name:"IndexNode",test:bu},{name:"Node",test:Su},{name:"ObjectNode",test:Nu},{name:"OperatorNode",test:xu},{name:"ParenthesisNode",test:Mu},{name:"RangeNode",test:Tu},{name:"RelationalNode",test:zu},{name:"SymbolNode",test:Ou},{name:"Map",test:Fu},{name:"Object",test:Ir}]),s.addConversions([{from:"number",to:"BigNumber",convert:function(o){if(u||Ar(o),Gu(o)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+o+"). Use function bignumber(x) to convert to BigNumber.");return new u(o)}},{from:"number",to:"Complex",convert:function(o){return n||Er(o),new n(o,0)}},{from:"BigNumber",to:"Complex",convert:function(o){return n||Er(o),new n(o.toNumber(),0)}},{from:"bigint",to:"number",convert:function(o){if(o>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+o+")");return Number(o)}},{from:"bigint",to:"BigNumber",convert:function(o){return u||Ar(o),new u(o.toString())}},{from:"bigint",to:"Fraction",convert:function(o){return i||dr(o),new i(o.toString())}},{from:"Fraction",to:"BigNumber",convert:function(o){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(o){return n||Er(o),new n(o.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(o){i||dr(o);var F=new i(o);if(F.valueOf()!==o)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+o+"). Use function fraction(x) to convert to Fraction.");return F}},{from:"string",to:"number",convert:function(o){var F=Number(o);if(isNaN(F))throw new Error('Cannot convert "'+o+'" to a number');return F}},{from:"string",to:"BigNumber",convert:function(o){u||Ar(o);try{return new u(o)}catch{throw new Error('Cannot convert "'+o+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(o){try{return BigInt(o)}catch{throw new Error('Cannot convert "'+o+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(o){i||dr(o);try{return new i(o)}catch{throw new Error('Cannot convert "'+o+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(o){n||Er(o);try{return new n(o)}catch{throw new Error('Cannot convert "'+o+'" to Complex')}}},{from:"boolean",to:"number",convert:function(o){return+o}},{from:"boolean",to:"BigNumber",convert:function(o){return u||Ar(o),new u(+o)}},{from:"boolean",to:"bigint",convert:function(o){return BigInt(+o)}},{from:"boolean",to:"Fraction",convert:function(o){return i||dr(o),new i(+o)}},{from:"boolean",to:"string",convert:function(o){return String(o)}},{from:"Array",to:"Matrix",convert:function(o){return t||Qu(),new t(o)}},{from:"Matrix",to:"Array",convert:function(o){return o.valueOf()}}]),s.onMismatch=(c,o,F)=>{var D=s.createError(c,o,F);if(["wrongType","mismatch"].includes(D.data.category)&&o.length===1&&lr(o[0])&&F.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw h.data=D.data,h}throw D},s.onMismatch=(c,o,F)=>{var D=s.createError(c,o,F);if(["wrongType","mismatch"].includes(D.data.category)&&o.length===1&&lr(o[0])&&F.some(p=>!p.params.includes(","))){var h=new TypeError("Function '".concat(c,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(c,")'."));throw h.data=D.data,h}throw D},s});function Ar(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Er(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Qu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function dr(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Yu="BigNumber",ju=["?on","config"],ku=N(Yu,ju,r=>{var{on:e,config:u}=r,n=kr.clone({precision:u.precision,modulo:kr.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(t){return new n(t.value)},e&&e("config",function(t,i){t.precision!==i.precision&&n.config({precision:t.precision})}),n},{isClass:!0}),rt="Complex",et=[],ut=N(rt,et,()=>(Object.defineProperty(H,"name",{value:"Complex"}),H.prototype.constructor=H,H.prototype.type="Complex",H.prototype.isComplex=!0,H.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},H.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},H.prototype.format=function(r){var e="",u=this.im,n=this.re,t=Tr(this.re,r),i=Tr(this.im,r),s=I(r)?r:r?r.precision:null;if(s!==null){var c=Math.pow(10,-s);Math.abs(n/u)<c&&(n=0),Math.abs(u/n)<c&&(u=0)}return u===0?e=t:n===0?u===1?e="i":u===-1?e="-i":e=i+"i":u<0?u===-1?e=t+" - i":e=t+" - "+i.substring(1)+"i":u===1?e=t+" + i":e=t+" + "+i+"i",e},H.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return H(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var u=arguments[0],n=arguments[1];if(I(u)){if(ye(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),I(n))return new H({r:u,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},H.prototype.valueOf=H.prototype.toString,H.fromJSON=function(r){return new H(r)},H.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},H),{isClass:!0}),tt="Fraction",nt=[],at=N(tt,nt,()=>(Object.defineProperty(rr,"name",{value:"Fraction"}),rr.prototype.constructor=rr,rr.prototype.type="Fraction",rr.prototype.isFraction=!0,rr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},rr.fromJSON=function(r){return new rr(r)},rr),{isClass:!0}),it="Matrix",ot=[],Dt=N(it,ot,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,u){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,u,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,u,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,u){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,u){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,u){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function xr(r,e,u){var n=r.constructor,t=new n(2),i="";if(u){if(u<1)throw new Error("size must be in greater than 0");if(!L(u))throw new Error("size must be an integer");if(r.greaterThan(t.pow(u-1).sub(1))||r.lessThan(t.pow(u-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(u-1,", 2^").concat(u-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(t.pow(u))),i="i".concat(u)}switch(e){case 2:return"".concat(r.toBinary()).concat(i);case 8:return"".concat(r.toOctal()).concat(i);case 16:return"".concat(r.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function st(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:u,precision:n,wordSize:t}=Be(e);switch(u){case"fixed":return ct(r,n);case"exponential":return ue(r,n);case"engineering":return ft(r,n);case"bin":return xr(r,2,t);case"oct":return xr(r,8,t);case"hex":return xr(r,16,t);case"auto":{var i=te(e==null?void 0:e.lowerExp,-3),s=te(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var c,o=r.toSignificantDigits(n),F=o.e;return F>=i&&F<s?c=o.toFixed():c=ue(r,n),c.replace(/((\.\d*?)(0+))($|e)/,function(){var D=arguments[2],h=arguments[4];return D!=="."?D+h:h})}default:throw new Error('Unknown notation "'+u+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function ft(r,e){var u=r.e,n=u%3===0?u:u<0?u-3-u%3:u-u%3,t=r.mul(Math.pow(10,-n)),i=t.toPrecision(e);if(i.includes("e")){var s=r.constructor;i=new s(i).toFixed()}return i+"e"+(u>=0?"+":"")+n.toString()}function ue(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function ct(r,e){return r.toFixed(e)}function te(r,e){return I(r)?r:Z(r)?r.toNumber():e}function X(r,e){var u=lt(r,e);return e&&typeof e=="object"&&"truncate"in e&&u.length>e.truncate?u.substring(0,e.truncate-3)+"...":u}function lt(r,e){if(typeof r=="number")return Tr(r,e);if(Z(r))return st(r,e);if(vt(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return Ne(r,e);if(j(r))return ne(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var u=Object.keys(r).map(n=>ne(n)+": "+X(r[n],e));return"{"+u.join(", ")+"}"}return String(r)}function ne(r){for(var e=String(r),u="",n=0;n<e.length;){var t=e.charAt(n);u+=t in ae?ae[t]:t,n++}return'"'+u+'"'}var ae={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function Ne(r,e){if(Array.isArray(r)){for(var u="[",n=r.length,t=0;t<n;t++)t!==0&&(u+=", "),u+=Ne(r[t],e);return u+="]",u}else return X(r,e)}function vt(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function z(r,e,u){if(!(this instanceof z))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=u,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}z.prototype=new RangeError;z.prototype.constructor=RangeError;z.prototype.name="DimensionError";z.prototype.isDimensionError=!0;function nr(r,e,u){if(!(this instanceof nr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=u),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}nr.prototype=new RangeError;nr.prototype.constructor=RangeError;nr.prototype.name="IndexError";nr.prototype.isIndexError=!0;function K(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function xe(r,e,u){var n,t=r.length;if(t!==e[u])throw new z(t,e[u]);if(u<e.length-1){var i=u+1;for(n=0;n<t;n++){var s=r[n];if(!Array.isArray(s))throw new z(e.length-1,e.length,"<");xe(r[n],e,i)}}else for(n=0;n<t;n++)if(Array.isArray(r[n]))throw new z(e.length+1,e.length,">")}function ie(r,e){var u=e.length===0;if(u){if(Array.isArray(r))throw new z(r.length,0)}else xe(r,e,0)}function P(r,e){if(r!==void 0){if(!I(r)||!L(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new nr(r,e)}}function zr(r,e,u){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!I(t)||!L(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+X(e)+")")}),(I(r)||Z(r))&&(r=[r]);var n=u!==void 0?u:0;return Or(r,e,0,n),r}function Or(r,e,u,n){var t,i,s=r.length,c=e[u],o=Math.min(s,c);if(r.length=c,u<e.length-1){var F=u+1;for(t=0;t<o;t++)i=r[t],Array.isArray(i)||(i=[i],r[t]=i),Or(i,e,F,n);for(t=o;t<c;t++)i=[],r[t]=i,Or(i,e,F,n)}else{for(t=0;t<o;t++)for(;Array.isArray(r[t]);)r[t]=r[t][0];for(t=o;t<c;t++)r[t]=n}}function Me(r,e){var u=ht(r),n=u.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new z(0,n,"!=");e=Ur(e,n);var t=Te(e);if(n!==t)throw new z(t,n,"!=");try{return pt(u,e)}catch(i){throw i instanceof z?new z(t,n,"!="):i}}function Ur(r,e){var u=Te(r),n=r.slice(),t=-1,i=r.indexOf(t),s=r.indexOf(t,i+1)>=0;if(s)throw new Error("More than one wildcard in sizes");var c=i>=0,o=e%u===0;if(c)if(o)n[i]=-e/u;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-u);return n}function Te(r){return r.reduce((e,u)=>e*u,1)}function pt(r,e){for(var u=r,n,t=e.length-1;t>0;t--){var i=e[t];n=[];for(var s=u.length/i,c=0;c<s;c++)n.push(u.slice(c*i,(c+1)*i));u=n}return u}function ze(r,e,u,n){var t=n||K(r);if(u)for(var i=0;i<u;i++)r=[r],t.unshift(1);for(r=Oe(r,e,0);t.length<e;)t.push(1);return r}function Oe(r,e,u){var n,t;if(Array.isArray(r)){var i=u+1;for(n=0,t=r.length;n<t;n++)r[n]=Oe(r[n],e,i)}else for(var s=u;s<e;s++)r=[r];return r}function ht(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function u(n){Array.isArray(n)?n.forEach(u):e.push(n)}),e}function qr(r,e){for(var u,n=0,t=0;t<r.length;t++){var i=r[t],s=Array.isArray(i);if(t===0&&s&&(n=i.length),s&&i.length!==n)return;var c=s?qr(i,e):e(i);if(u===void 0)u=c;else if(u!==c)return"mixed"}return u}function $e(r,e,u,n){if(n<u){if(r.length!==e.length)throw new z(r.length,e.length);for(var t=[],i=0;i<r.length;i++)t[i]=$e(r[i],e[i],u,n+1);return t}else return r.concat(e)}function Ie(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(u,n){return $e(u,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Rr(){for(var r=arguments.length,e=new Array(r),u=0;u<r;u++)e[u]=arguments[u];for(var n=e.map(p=>p.length),t=Math.max(...n),i=new Array(t).fill(null),s=0;s<e.length;s++)for(var c=e[s],o=n[s],F=0;F<o;F++){var D=t-o+F;c[F]>i[D]&&(i[D]=c[F])}for(var h=0;h<e.length;h++)Pe(e[h],i);return i}function Pe(r,e){for(var u=e.length,n=r.length,t=0;t<n;t++){var i=u-n+t;if(r[t]<e[i]&&r[t]>1||r[t]>e[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[t]," to size ").concat(e[i]))}}function ar(r,e){var u=K(r);if(er(u,e))return r;Pe(u,e);var n=Rr(u,e),t=n.length,i=[...Array(t-u.length).fill(1),...u],s=At(r);u.length<t&&(s=Me(s,i),u=K(s));for(var c=0;c<t;c++)u[c]<n[c]&&(s=Ft(s,n[c],c),u=K(s));return s}function Ft(r,e,u){return Ie(...Array(e).fill(r),u)}function Lr(r,e){if(!Array.isArray(r))throw new Error("Array expected");var u=K(r);if(e.length!==u.length)throw new z(e.length,u.length);for(var n=0;n<e.length;n++)P(e[n],u[n]);return e.reduce((t,i)=>t[i],r)}function Ue(r,e,u,n){return Array.isArray(r)?r.map(function(t,i){return Ue(t,e.concat(i),u,n)}):n(r,e,u)}function At(r){return ge([],r)}function pr(r,e,u){if(gr.isTypedFunction(r)){var n=(e.isMatrix?e.size():K(e)).map(()=>0),t=e.isMatrix?e.get(n):Lr(e,n),i=Object.keys(r.signatures).length===1,s=Et(r,t,n,e),c=i?Object.values(r.signatures)[0]:r;return s>=1&&s<=3?function(){for(var o=arguments.length,F=new Array(o),D=0;D<o;D++)F[D]=arguments[D];return oe(c,F.slice(0,s),u,r.name)}:function(){for(var o=arguments.length,F=new Array(o),D=0;D<o;D++)F[D]=arguments[D];return oe(c,F,u,r.name)}}return r}function Et(r,e,u,n){for(var t=[e,u,n],i=3;i>0;i--){var s=t.slice(0,i);if(gr.resolve(r,s)!==null)return i}}function oe(r,e,u,n){try{return r(...e)}catch(t){dt(t,e,u,n)}}function dt(r,e,u,n){var t;if(r instanceof TypeError&&((t=r.data)===null||t===void 0?void 0:t.category)==="wrongType"){var i=[];throw i.push("value: ".concat(k(e[0]))),e.length>=2&&i.push("index: ".concat(k(e[1]))),e.length>=3&&i.push("array: ".concat(k(e[2]))),new TypeError("Function ".concat(u," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(u," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(r.message))}var gt="DenseMatrix",mt=["Matrix"],Ct=N(gt,mt,r=>{var{Matrix:e}=r;function u(D,h){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!j(h))throw new Error("Invalid datatype: "+h);if(Q(D))D.type==="DenseMatrix"?(this._data=V(D._data),this._size=V(D._size),this._datatype=h||D._datatype):(this._data=D.toArray(),this._size=D.size(),this._datatype=h||D._datatype);else if(D&&R(D.data)&&R(D.size))this._data=D.data,this._size=D.size,ie(this._data,this._size),this._datatype=h||D.datatype;else if(R(D))this._data=F(D),this._size=K(this._data),ie(this._data,this._size),this._datatype=h;else{if(D)throw new TypeError("Unsupported type of data ("+k(D)+")");this._data=[],this._size=[0],this._datatype=h}}u.prototype=new e,u.prototype.createDenseMatrix=function(D,h){return new u(D,h)},Object.defineProperty(u,"name",{value:"DenseMatrix"}),u.prototype.constructor=u,u.prototype.type="DenseMatrix",u.prototype.isDenseMatrix=!0,u.prototype.getDataType=function(){return qr(this._data,k)},u.prototype.storage=function(){return"dense"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(D,h){return new u(D,h)},u.prototype.subset=function(D,h,p){switch(arguments.length){case 1:return n(this,D);case 2:case 3:return i(this,D,h,p);default:throw new SyntaxError("Wrong number of arguments")}},u.prototype.get=function(D){return Lr(this._data,D)},u.prototype.set=function(D,h,p){if(!R(D))throw new TypeError("Array expected");if(D.length<this._size.length)throw new z(D.length,this._size.length,"<");var f,l,a,v=D.map(function(g){return g+1});o(this,v,p);var A=this._data;for(f=0,l=D.length-1;f<l;f++)a=D[f],P(a,A.length),A=A[a];return a=D[D.length-1],P(a,A.length),A[a]=h,this};function n(D,h){if(!$r(h))throw new TypeError("Invalid index");var p=h.isScalar();if(p)return D.get(h.min());var f=h.size();if(f.length!==D._size.length)throw new z(f.length,D._size.length);for(var l=h.min(),a=h.max(),v=0,A=D._size.length;v<A;v++)P(l[v],D._size[v]),P(a[v],D._size[v]);return new u(t(D._data,h,f.length,0),D._datatype)}function t(D,h,p,f){var l=f===p-1,a=h.dimension(f);return l?a.map(function(v){return P(v,D.length),D[v]}).valueOf():a.map(function(v){P(v,D.length);var A=D[v];return t(A,h,p,f+1)}).valueOf()}function i(D,h,p,f){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var l=h.size(),a=h.isScalar(),v;if(Q(p)?(v=p.size(),p=p.valueOf()):v=K(p),a){if(v.length!==0)throw new TypeError("Scalar expected");D.set(h.min(),p,f)}else{if(!er(v,l))try{v.length===0?p=ar([p],l):p=ar(p,l),v=K(p)}catch{}if(l.length<D._size.length)throw new z(l.length,D._size.length,"<");if(v.length<l.length){for(var A=0,g=0;l[A]===1&&v[A]===1;)A++;for(;l[A]===1;)g++,A++;p=ze(p,l.length,g,v)}if(!er(l,v))throw new z(l,v,">");var E=h.max().map(function(w){return w+1});o(D,E,f);var d=l.length,C=0;s(D._data,h,p,d,C)}return D}function s(D,h,p,f,l){var a=l===f-1,v=h.dimension(l);a?v.forEach(function(A,g){P(A),D[A]=p[g[0]]}):v.forEach(function(A,g){P(A),s(D[A],h,p[g[0]],f,l+1)})}u.prototype.resize=function(D,h,p){if(!lr(D))throw new TypeError("Array or Matrix expected");var f=D.valueOf().map(a=>Array.isArray(a)&&a.length===1?a[0]:a),l=p?this.clone():this;return c(l,f,h)};function c(D,h,p){if(h.length===0){for(var f=D._data;R(f);)f=f[0];return f}return D._size=h.slice(0),D._data=zr(D._data,D._size,p),D}u.prototype.reshape=function(D,h){var p=h?this.clone():this;p._data=Me(p._data,D);var f=p._size.reduce((l,a)=>l*a);return p._size=Ur(D,f),p};function o(D,h,p){for(var f=D._size.slice(0),l=!1;f.length<h.length;)f.push(0),l=!0;for(var a=0,v=h.length;a<v;a++)h[a]>f[a]&&(f[a]=h[a],l=!0);l&&c(D,f,p)}u.prototype.clone=function(){var D=new u({data:V(this._data),size:V(this._size),datatype:this._datatype});return D},u.prototype.size=function(){return this._size.slice(0)},u.prototype._forEach=function(D){var h=this,p=h.size();if(p.length===1){for(var f=0;f<p[0];f++)D(h._data,f,[f]);return}var l=Array(p.length).fill(0),a=Array(p.length-1),v=a.length-1;a[0]=h._data[0];for(var A=0;A<v;A++)a[A+1]=a[A][0];for(l[v]=-1;;){var g=void 0;for(g=v;g>=0;g--){if(l[g]++,l[g]===p[g]){l[g]=0;continue}a[g]=g===0?h._data[l[g]]:a[g-1][l[g]];for(var E=g;E<v;E++)a[E+1]=a[E][0];for(var d=0;d<p[a.length];d++)l[a.length]=d,D(a[v],d,l.slice(0));break}if(g===-1)break}},u.prototype.map=function(D){var h=this,p=new u(h),f=pr(D,h._data,"map");return p._forEach(function(l,a,v){l[a]=f(l[a],v,h)}),p},u.prototype.forEach=function(D){var h=this,p=pr(D,h._data,"map");h._forEach(function(f,l,a){p(f[l],a,h)})},u.prototype[Symbol.iterator]=function*(){var D=function*(p,f){if(R(p))for(var l=0;l<p.length;l++)yield*D(p[l],f.concat(l));else yield{value:p,index:f}};yield*D(this._data,[])},u.prototype.rows=function(){var D=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var p=this._data;for(var f of p)D.push(new u([f],this._datatype));return D},u.prototype.columns=function(){var D=this,h=[],p=this.size();if(p.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var f=this._data,l=function(A){var g=f.map(E=>[E[A]]);h.push(new u(g,D._datatype))},a=0;a<p[1];a++)l(a);return h},u.prototype.toArray=function(){return V(this._data)},u.prototype.valueOf=function(){return this._data},u.prototype.format=function(D){return X(this._data,D)},u.prototype.toString=function(){return X(this._data)},u.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(D){if(D){if(Z(D)&&(D=D.toNumber()),!I(D)||!L(D))throw new TypeError("The parameter k must be an integer number")}else D=0;for(var h=D>0?D:0,p=D<0?-D:0,f=this._size[0],l=this._size[1],a=Math.min(f-p,l-h),v=[],A=0;A<a;A++)v[A]=this._data[A+p][A+h];return new u({data:v,size:[a],datatype:this._datatype})},u.diagonal=function(D,h,p,f){if(!R(D))throw new TypeError("Array expected, size parameter");if(D.length!==2)throw new Error("Only two dimensions matrix are supported");if(D=D.map(function(y){if(Z(y)&&(y=y.toNumber()),!I(y)||!L(y)||y<1)throw new Error("Size values must be positive integers");return y}),p){if(Z(p)&&(p=p.toNumber()),!I(p)||!L(p))throw new TypeError("The parameter k must be an integer number")}else p=0;var l=p>0?p:0,a=p<0?-p:0,v=D[0],A=D[1],g=Math.min(v-a,A-l),E;if(R(h)){if(h.length!==g)throw new Error("Invalid value array length");E=function(m){return h[m]}}else if(Q(h)){var d=h.size();if(d.length!==1||d[0]!==g)throw new Error("Invalid matrix length");E=function(m){return h.get([m])}}else E=function(){return h};f||(f=Z(E(0))?E(0).mul(0):0);var C=[];if(D.length>0){C=zr(C,D,f);for(var w=0;w<g;w++)C[w+a][w+l]=E(w)}return new u({data:C,size:[v,A]})},u.fromJSON=function(D){return new u(D)},u.prototype.swapRows=function(D,h){if(!I(D)||!L(D)||!I(h)||!L(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return P(D,this._size[0]),P(h,this._size[0]),u._swapRows(D,h,this._data),this},u._swapRows=function(D,h,p){var f=p[D];p[D]=p[h],p[h]=f};function F(D){return Q(D)?F(D.valueOf()):R(D)?D.map(F):D}return u},{isClass:!0});function wt(r){var e=r.length,u=r[0].length,n,t,i=[];for(t=0;t<u;t++){var s=[];for(n=0;n<e;n++)s.push(r[n][t]);i.push(s)}return i}function Jr(r){for(var e=0;e<r.length;e++)if(lr(r[e]))return!0;return!1}function br(r,e){Q(r)&&(r=r.valueOf());for(var u=0,n=r.length;u<n;u++){var t=r[u];Array.isArray(t)?br(t,e):e(t)}}function tr(r,e,u){return r&&typeof r.map=="function"?r.map(function(n){return tr(n,e)}):e(r)}function Wr(r,e,u){var n=Array.isArray(r)?K(r):r.size();if(e<0||e>=n.length)throw new nr(e,n.length);return Q(r)?r.create(Cr(r.valueOf(),e,u),r.datatype()):Cr(r,e,u)}function Cr(r,e,u){var n,t,i,s;if(e<=0)if(Array.isArray(r[0])){for(s=wt(r),t=[],n=0;n<s.length;n++)t[n]=Cr(s[n],e-1,u);return t}else{for(i=r[0],n=1;n<r.length;n++)i=u(i,r[n]);return i}else{for(t=[],n=0;n<r.length;n++)t[n]=Cr(r[n],e-1,u);return t}}var De="isInteger",yt=["typed"],Bt=N(De,yt,r=>{var{typed:e}=r;return e(De,{number:L,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(u=>n=>tr(n,u))})}),qe="number",_t="number, number";function Re(r){return Math.abs(r)}Re.signature=qe;function Le(r,e){return r+e}Le.signature=_t;function Je(r){return r*r}Je.signature=qe;function cr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!L(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(_e(r,e))}function hr(r,e){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(u<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(u),n))}function bt(r,e,u,n){return ur(r.re,e.re,u,n)&&ur(r.im,e.im,u,n)}var Vr=N("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(u=>(n,t)=>{if(!n.equalBase(t))throw new Error("Cannot compare units with different base");return e.find(u,[n.valueType(),t.valueType()])(n.value,t.value)})}}),wr="equalScalar",St=["typed","config"],Nt=N(wr,St,r=>{var{typed:e,config:u}=r,n=Vr({typed:e});return e(wr,{"boolean, boolean":function(i,s){return i===s},"number, number":function(i,s){return ur(i,s,u.relTol,u.absTol)},"BigNumber, BigNumber":function(i,s){return i.eq(s)||hr(i,s,u.relTol,u.absTol)},"bigint, bigint":function(i,s){return i===s},"Fraction, Fraction":function(i,s){return i.equals(s)},"Complex, Complex":function(i,s){return bt(i,s,u.relTol,u.absTol)}},n)});N(wr,["typed","config"],r=>{var{typed:e,config:u}=r;return e(wr,{"number, number":function(t,i){return ur(t,i,u.relTol,u.absTol)}})});var xt="SparseMatrix",Mt=["typed","equalScalar","Matrix"],Tt=N(xt,Mt,r=>{var{typed:e,equalScalar:u,Matrix:n}=r;function t(a,v){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!j(v))throw new Error("Invalid datatype: "+v);if(Q(a))i(this,a,v);else if(a&&R(a.index)&&R(a.ptr)&&R(a.size))this._values=a.values,this._index=a.index,this._ptr=a.ptr,this._size=a.size,this._datatype=v||a.datatype;else if(R(a))s(this,a,v);else{if(a)throw new TypeError("Unsupported type of data ("+k(a)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function i(a,v,A){v.type==="SparseMatrix"?(a._values=v._values?V(v._values):void 0,a._index=V(v._index),a._ptr=V(v._ptr),a._size=V(v._size),a._datatype=A||v._datatype):s(a,v.valueOf(),A||v._datatype)}function s(a,v,A){a._values=[],a._index=[],a._ptr=[],a._datatype=A;var g=v.length,E=0,d=u,C=0;if(j(A)&&(d=e.find(u,[A,A])||u,C=e.convert(0,A)),g>0){var w=0;do{a._ptr.push(a._index.length);for(var y=0;y<g;y++){var m=v[y];if(R(m)){if(w===0&&E<m.length&&(E=m.length),w<m.length){var B=m[w];d(B,C)||(a._values.push(B),a._index.push(y))}}else w===0&&E<1&&(E=1),d(m,C)||(a._values.push(m),a._index.push(y))}w++}while(w<E)}a._ptr.push(a._index.length),a._size=[g,E]}t.prototype=new n,t.prototype.createSparseMatrix=function(a,v){return new t(a,v)},Object.defineProperty(t,"name",{value:"SparseMatrix"}),t.prototype.constructor=t,t.prototype.type="SparseMatrix",t.prototype.isSparseMatrix=!0,t.prototype.getDataType=function(){return qr(this._values,k)},t.prototype.storage=function(){return"sparse"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(a,v){return new t(a,v)},t.prototype.density=function(){var a=this._size[0],v=this._size[1];return a!==0&&v!==0?this._index.length/(a*v):0},t.prototype.subset=function(a,v,A){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return c(this,a);case 2:case 3:return o(this,a,v,A);default:throw new SyntaxError("Wrong number of arguments")}};function c(a,v){if(!$r(v))throw new TypeError("Invalid index");var A=v.isScalar();if(A)return a.get(v.min());var g=v.size();if(g.length!==a._size.length)throw new z(g.length,a._size.length);var E,d,C,w,y=v.min(),m=v.max();for(E=0,d=a._size.length;E<d;E++)P(y[E],a._size[E]),P(m[E],a._size[E]);var B=a._values,_=a._index,b=a._ptr,x=v.dimension(0),T=v.dimension(1),S=[],$=[];x.forEach(function(O,G){$[O]=G[0],S[O]=!0});var M=B?[]:void 0,q=[],J=[];return T.forEach(function(O){for(J.push(q.length),C=b[O],w=b[O+1];C<w;C++)E=_[C],S[E]===!0&&(q.push($[E]),M&&M.push(B[C]))}),J.push(q.length),new t({values:M,index:q,ptr:J,size:g,datatype:a._datatype})}function o(a,v,A,g){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var E=v.size(),d=v.isScalar(),C;if(Q(A)?(C=A.size(),A=A.toArray()):C=K(A),d){if(C.length!==0)throw new TypeError("Scalar expected");a.set(v.min(),A,g)}else{if(E.length!==1&&E.length!==2)throw new z(E.length,a._size.length,"<");if(C.length<E.length){for(var w=0,y=0;E[w]===1&&C[w]===1;)w++;for(;E[w]===1;)y++,w++;A=ze(A,E.length,y,C)}if(!er(E,C))throw new z(E,C,">");if(E.length===1){var m=v.dimension(0);m.forEach(function(b,x){P(b),a.set([b,0],A[x[0]],g)})}else{var B=v.dimension(0),_=v.dimension(1);B.forEach(function(b,x){P(b),_.forEach(function(T,S){P(T),a.set([b,T],A[x[0]][S[0]],g)})})}}return a}t.prototype.get=function(a){if(!R(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new z(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=a[0],A=a[1];P(v,this._size[0]),P(A,this._size[1]);var g=F(v,this._ptr[A],this._ptr[A+1],this._index);return g<this._ptr[A+1]&&this._index[g]===v?this._values[g]:0},t.prototype.set=function(a,v,A){if(!R(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new z(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var g=a[0],E=a[1],d=this._size[0],C=this._size[1],w=u,y=0;j(this._datatype)&&(w=e.find(u,[this._datatype,this._datatype])||u,y=e.convert(0,this._datatype)),(g>d-1||E>C-1)&&(p(this,Math.max(g+1,d),Math.max(E+1,C),A),d=this._size[0],C=this._size[1]),P(g,d),P(E,C);var m=F(g,this._ptr[E],this._ptr[E+1],this._index);return m<this._ptr[E+1]&&this._index[m]===g?w(v,y)?D(m,E,this._values,this._index,this._ptr):this._values[m]=v:w(v,y)||h(m,g,E,v,this._values,this._index,this._ptr),this};function F(a,v,A,g){if(A-v===0)return A;for(var E=v;E<A;E++)if(g[E]===a)return E;return v}function D(a,v,A,g,E){A.splice(a,1),g.splice(a,1);for(var d=v+1;d<E.length;d++)E[d]--}function h(a,v,A,g,E,d,C){E.splice(a,0,g),d.splice(a,0,v);for(var w=A+1;w<C.length;w++)C[w]++}t.prototype.resize=function(a,v,A){if(!lr(a))throw new TypeError("Array or Matrix expected");var g=a.valueOf().map(d=>Array.isArray(d)&&d.length===1?d[0]:d);if(g.length!==2)throw new Error("Only two dimensions matrix are supported");g.forEach(function(d){if(!I(d)||!L(d)||d<0)throw new TypeError("Invalid size, must contain positive integers (size: "+X(g)+")")});var E=A?this.clone():this;return p(E,g[0],g[1],v)};function p(a,v,A,g){var E=g||0,d=u,C=0;j(a._datatype)&&(d=e.find(u,[a._datatype,a._datatype])||u,C=e.convert(0,a._datatype),E=e.convert(E,a._datatype));var w=!d(E,C),y=a._size[0],m=a._size[1],B,_,b;if(A>m){for(_=m;_<A;_++)if(a._ptr[_]=a._values.length,w)for(B=0;B<y;B++)a._values.push(E),a._index.push(B);a._ptr[A]=a._values.length}else A<m&&(a._ptr.splice(A+1,m-A),a._values.splice(a._ptr[A],a._values.length),a._index.splice(a._ptr[A],a._index.length));if(m=A,v>y){if(w){var x=0;for(_=0;_<m;_++){a._ptr[_]=a._ptr[_]+x,b=a._ptr[_+1]+x;var T=0;for(B=y;B<v;B++,T++)a._values.splice(b+T,0,E),a._index.splice(b+T,0,B),x++}a._ptr[m]=a._values.length}}else if(v<y){var S=0;for(_=0;_<m;_++){a._ptr[_]=a._ptr[_]-S;var $=a._ptr[_],M=a._ptr[_+1]-S;for(b=$;b<M;b++)B=a._index[b],B>v-1&&(a._values.splice(b,1),a._index.splice(b,1),S++)}a._ptr[_]=a._values.length}return a._size[0]=v,a._size[1]=A,a}t.prototype.reshape=function(a,v){if(!R(a))throw new TypeError("Array expected");if(a.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");a.forEach(function(O){if(!I(O)||!L(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+X(a)+")")});var A=this._size[0]*this._size[1];a=Ur(a,A);var g=a[0]*a[1];if(A!==g)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var E=v?this.clone():this;if(this._size[0]===a[0]&&this._size[1]===a[1])return E;for(var d=[],C=0;C<E._ptr.length;C++)for(var w=0;w<E._ptr[C+1]-E._ptr[C];w++)d.push(C);for(var y=E._values.slice(),m=E._index.slice(),B=0;B<E._index.length;B++){var _=m[B],b=d[B],x=_*E._size[1]+b;d[B]=x%a[1],m[B]=Math.floor(x/a[1])}E._values.length=0,E._index.length=0,E._ptr.length=a[1]+1,E._size=a.slice();for(var T=0;T<E._ptr.length;T++)E._ptr[T]=0;for(var S=0;S<y.length;S++){var $=m[S],M=d[S],q=y[S],J=F($,E._ptr[M],E._ptr[M+1],E._index);h(J,$,M,q,E._values,E._index,E._ptr)}return E},t.prototype.clone=function(){var a=new t({values:this._values?V(this._values):void 0,index:V(this._index),ptr:V(this._ptr),size:V(this._size),datatype:this._datatype});return a},t.prototype.size=function(){return this._size.slice(0)},t.prototype.map=function(a,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var A=this,g=this._size[0],E=this._size[1],d=pr(a,A,"map"),C=function(y,m,B){return d(y,[m,B],A)};return f(this,0,g-1,0,E-1,C,v)};function f(a,v,A,g,E,d,C){var w=[],y=[],m=[],B=u,_=0;j(a._datatype)&&(B=e.find(u,[a._datatype,a._datatype])||u,_=e.convert(0,a._datatype));for(var b=function(Qe,Yr,Ye){var jr=d(Qe,Yr,Ye);B(jr,_)||(w.push(jr),y.push(Yr))},x=g;x<=E;x++){m.push(w.length);var T=a._ptr[x],S=a._ptr[x+1];if(C)for(var $=T;$<S;$++){var M=a._index[$];M>=v&&M<=A&&b(a._values[$],M-v,x-g)}else{for(var q={},J=T;J<S;J++){var O=a._index[J];q[O]=a._values[J]}for(var G=v;G<=A;G++){var Ke=G in q?q[G]:0;b(Ke,G-v,x-g)}}}return m.push(w.length),new t({values:w,index:y,ptr:m,size:[A-v+1,E-g+1]})}t.prototype.forEach=function(a,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var A=this,g=this._size[0],E=this._size[1],d=pr(a,A,"forEach"),C=0;C<E;C++){var w=this._ptr[C],y=this._ptr[C+1];if(v)for(var m=w;m<y;m++){var B=this._index[m];d(this._values[m],[B,C],A)}else{for(var _={},b=w;b<y;b++){var x=this._index[b];_[x]=this._values[b]}for(var T=0;T<g;T++){var S=T in _?_[T]:0;d(S,[T,C],A)}}}},t.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var a=this._size[1],v=0;v<a;v++)for(var A=this._ptr[v],g=this._ptr[v+1],E=A;E<g;E++){var d=this._index[E];yield{value:this._values[E],index:[d,v]}}},t.prototype.toArray=function(){return l(this._values,this._index,this._ptr,this._size,!0)},t.prototype.valueOf=function(){return l(this._values,this._index,this._ptr,this._size,!1)};function l(a,v,A,g,E){var d=g[0],C=g[1],w=[],y,m;for(y=0;y<d;y++)for(w[y]=[],m=0;m<C;m++)w[y][m]=0;for(m=0;m<C;m++)for(var B=A[m],_=A[m+1],b=B;b<_;b++)y=v[b],w[y][m]=a?E?V(a[b]):a[b]:1;return w}return t.prototype.format=function(a){for(var v=this._size[0],A=this._size[1],g=this.density(),E="Sparse Matrix ["+X(v,a)+" x "+X(A,a)+"] density: "+X(g,a)+`
`,d=0;d<A;d++)for(var C=this._ptr[d],w=this._ptr[d+1],y=C;y<w;y++){var m=this._index[y];E+=`
    (`+X(m,a)+", "+X(d,a)+") ==> "+(this._values?X(this._values[y],a):"X")}return E},t.prototype.toString=function(){return X(this.toArray())},t.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(a){if(a){if(Z(a)&&(a=a.toNumber()),!I(a)||!L(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var v=a>0?a:0,A=a<0?-a:0,g=this._size[0],E=this._size[1],d=Math.min(g-A,E-v),C=[],w=[],y=[];y[0]=0;for(var m=v;m<E&&C.length<d;m++)for(var B=this._ptr[m],_=this._ptr[m+1],b=B;b<_;b++){var x=this._index[b];if(x===m-v+A){C.push(this._values[b]),w[C.length-1]=x-A;break}}return y.push(C.length),new t({values:C,index:w,ptr:y,size:[d,1]})},t.fromJSON=function(a){return new t(a)},t.diagonal=function(a,v,A,g,E){if(!R(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(O){if(Z(O)&&(O=O.toNumber()),!I(O)||!L(O)||O<1)throw new Error("Size values must be positive integers");return O}),A){if(Z(A)&&(A=A.toNumber()),!I(A)||!L(A))throw new TypeError("The parameter k must be an integer number")}else A=0;var d=u,C=0;j(E)&&(d=e.find(u,[E,E])||u,C=e.convert(0,E));var w=A>0?A:0,y=A<0?-A:0,m=a[0],B=a[1],_=Math.min(m-y,B-w),b;if(R(v)){if(v.length!==_)throw new Error("Invalid value array length");b=function(G){return v[G]}}else if(Q(v)){var x=v.size();if(x.length!==1||x[0]!==_)throw new Error("Invalid matrix length");b=function(G){return v.get([G])}}else b=function(){return v};for(var T=[],S=[],$=[],M=0;M<B;M++){$.push(T.length);var q=M-w;if(q>=0&&q<_){var J=b(q);d(J,C)||(S.push(q+y),T.push(J))}}return $.push(T.length),new t({values:T,index:S,ptr:$,size:[m,B]})},t.prototype.swapRows=function(a,v){if(!I(a)||!L(a)||!I(v)||!L(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return P(a,this._size[0]),P(v,this._size[0]),t._swapRows(a,v,this._size[1],this._values,this._index,this._ptr),this},t._forEachRow=function(a,v,A,g,E){for(var d=g[a],C=g[a+1],w=d;w<C;w++)E(A[w],v[w])},t._swapRows=function(a,v,A,g,E,d){for(var C=0;C<A;C++){var w=d[C],y=d[C+1],m=F(a,w,y,E),B=F(v,w,y,E);if(m<y&&B<y&&E[m]===a&&E[B]===v){if(g){var _=g[m];g[m]=g[B],g[B]=_}continue}if(m<y&&E[m]===a&&(B>=y||E[B]!==v)){var b=g?g[m]:void 0;E.splice(B,0,v),g&&g.splice(B,0,b),E.splice(B<=m?m+1:m,1),g&&g.splice(B<=m?m+1:m,1);continue}if(B<y&&E[B]===v&&(m>=y||E[m]!==a)){var x=g?g[B]:void 0;E.splice(m,0,a),g&&g.splice(m,0,x),E.splice(m<=B?B+1:B,1),g&&g.splice(m<=B?B+1:B,1)}}},t},{isClass:!0}),zt="number",Ot=["typed"];function $t(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var u={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],t=e[3];return{input:r,radix:u,integerPart:n,fractionalPart:t}}else return null}function It(r){for(var e=parseInt(r.integerPart,r.radix),u=0,n=0;n<r.fractionalPart.length;n++){var t=parseInt(r.fractionalPart[n],r.radix);u+=t/Math.pow(r.radix,n+1)}var i=e+u;if(isNaN(i))throw new SyntaxError('String "'+r.input+'" is not a valid number');return i}var Pt=N(zt,Ot,r=>{var{typed:e}=r,u=e("number",{"":function(){return 0},number:function(t){return t},string:function(t){if(t==="NaN")return NaN;var i=$t(t);if(i)return It(i);var s=0,c=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);c&&(s=Number(c[2]),t=c[1]);var o=Number(t);if(isNaN(o))throw new SyntaxError('String "'+t+'" is not a valid number');if(c){if(o>2**s-1)throw new SyntaxError('String "'.concat(t,'" is out of range'));o>=2**(s-1)&&(o=o-2**s)}return o},BigNumber:function(t){return t.toNumber()},bigint:function(t){return Number(t)},Fraction:function(t){return t.valueOf()},Unit:e.referToSelf(n=>t=>{var i=t.clone();return i.value=n(t.value),i}),null:function(t){return 0},"Unit, string | Unit":function(t,i){return t.toNumber(i)},"Array | Matrix":e.referToSelf(n=>t=>tr(t,n))});return u.fromJSON=function(n){return parseFloat(n.value)},u}),Ut="bignumber",qt=["typed","BigNumber"],Rt=N(Ut,qt,r=>{var{typed:e,BigNumber:u}=r;return e("bignumber",{"":function(){return new u(0)},number:function(t){return new u(t+"")},string:function(t){var i=t.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var s=i[2],c=u(i[1]),o=new u(2).pow(Number(s));if(c.gt(o.sub(1)))throw new SyntaxError('String "'.concat(t,'" is out of range'));var F=new u(2).pow(Number(s)-1);return c.gte(F)?c.sub(o):c}return new u(t)},BigNumber:function(t){return t},bigint:function(t){return new u(t.toString())},Unit:e.referToSelf(n=>t=>{var i=t.clone();return i.value=n(t.value),i}),Fraction:function(t){return new u(t.n).div(t.d).times(t.s)},null:function(t){return new u(0)},"Array | Matrix":e.referToSelf(n=>t=>tr(t,n))})}),Lt="fraction",Jt=["typed","Fraction"],Wt=N(Lt,Jt,r=>{var{typed:e,Fraction:u}=r;return e("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new u(t)},string:function(t){return new u(t)},"number, number":function(t,i){return new u(t,i)},null:function(t){return new u(0)},BigNumber:function(t){return new u(t.toString())},bigint:function(t){return new u(t.toString())},Fraction:function(t){return t},Unit:e.referToSelf(n=>t=>{var i=t.clone();return i.value=n(t.value),i}),Object:function(t){return new u(t)},"Array | Matrix":e.referToSelf(n=>t=>tr(t,n))})}),se="matrix",Vt=["typed","Matrix","DenseMatrix","SparseMatrix"],Zt=N(se,Vt,r=>{var{typed:e,Matrix:u,DenseMatrix:n,SparseMatrix:t}=r;return e(se,{"":function(){return i([])},string:function(c){return i([],c)},"string, string":function(c,o){return i([],c,o)},Array:function(c){return i(c)},Matrix:function(c){return i(c,c.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(s,c,o){if(c==="dense"||c==="default"||c===void 0)return new n(s,o);if(c==="sparse")return new t(s,o);throw new TypeError("Unknown matrix type "+JSON.stringify(c)+".")}}),fe="abs",Ht=["typed"],Gt=N(fe,Ht,r=>{var{typed:e}=r;return e(fe,{number:Re,"Complex | BigNumber | Fraction | Unit":u=>u.abs(),bigint:u=>u<0n?-u:u,"Array | Matrix":e.referToSelf(u=>n=>tr(n,u))})}),ce="addScalar",Xt=["typed"],Kt=N(ce,Xt,r=>{var{typed:e}=r;return e(ce,{"number, number":Le,"Complex, Complex":function(n,t){return n.add(t)},"BigNumber, BigNumber":function(n,t){return n.plus(t)},"bigint, bigint":function(n,t){return n+t},"Fraction, Fraction":function(n,t){return n.add(t)},"Unit, Unit":e.referToSelf(u=>(n,t)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(t.value===null||t.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(t))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(u,[i.valueType(),t.valueType()])(i.value,t.value),i.fixPrefix=!1,i})})}),Qt="matAlgo11xS0s",Yt=["typed","equalScalar"],jt=N(Qt,Yt,r=>{var{typed:e,equalScalar:u}=r;return function(t,i,s,c){var o=t._values,F=t._index,D=t._ptr,h=t._size,p=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=h[0],l=h[1],a,v=u,A=0,g=s;typeof p=="string"&&(a=p,v=e.find(u,[a,a]),A=e.convert(0,a),i=e.convert(i,a),g=e.find(s,[a,a]));for(var E=[],d=[],C=[],w=0;w<l;w++){C[w]=d.length;for(var y=D[w],m=D[w+1],B=y;B<m;B++){var _=F[B],b=c?g(i,o[B]):g(o[B],i);v(b,A)||(d.push(_),E.push(b))}}return C[l]=d.length,t.createSparseMatrix({values:E,index:d,ptr:C,size:[f,l],datatype:a})}}),kt="matAlgo12xSfs",rn=["typed","DenseMatrix"],Zr=N(kt,rn,r=>{var{typed:e,DenseMatrix:u}=r;return function(t,i,s,c){var o=t._values,F=t._index,D=t._ptr,h=t._size,p=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=h[0],l=h[1],a,v=s;typeof p=="string"&&(a=p,i=e.convert(i,a),v=e.find(s,[a,a]));for(var A=[],g=[],E=[],d=0;d<l;d++){for(var C=d+1,w=D[d],y=D[d+1],m=w;m<y;m++){var B=F[m];g[B]=o[m],E[B]=C}for(var _=0;_<f;_++)d===0&&(A[_]=[]),E[_]===C?A[_][d]=c?v(i,g[_]):v(g[_],i):A[_][d]=c?v(i,0):v(0,i)}return new u({data:A,size:[f,l],datatype:a})}}),en="matAlgo14xDs",un=["typed"],We=N(en,un,r=>{var{typed:e}=r;return function(t,i,s,c){var o=t._data,F=t._size,D=t._datatype,h,p=s;typeof D=="string"&&(h=D,i=e.convert(i,h),p=e.find(s,[h,h]));var f=F.length>0?u(p,0,F,F[0],o,i,c):[];return t.createDenseMatrix({data:f,size:V(F),datatype:h})};function u(n,t,i,s,c,o,F){var D=[];if(t===i.length-1)for(var h=0;h<s;h++)D[h]=F?n(o,c[h]):n(c[h],o);else for(var p=0;p<s;p++)D[p]=u(n,t+1,i,i[t+1],c[p],o,F);return D}}),tn="matAlgo03xDSf",nn=["typed"],Ve=N(tn,nn,r=>{var{typed:e}=r;return function(n,t,i,s){var c=n._data,o=n._size,F=n._datatype||n.getDataType(),D=t._values,h=t._index,p=t._ptr,f=t._size,l=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(o.length!==f.length)throw new z(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var a=o[0],v=o[1],A,g=0,E=i;typeof F=="string"&&F===l&&F!=="mixed"&&(A=F,g=e.convert(0,A),E=e.find(i,[A,A]));for(var d=[],C=0;C<a;C++)d[C]=[];for(var w=[],y=[],m=0;m<v;m++){for(var B=m+1,_=p[m],b=p[m+1],x=_;x<b;x++){var T=h[x];w[T]=s?E(D[x],c[T][m]):E(c[T][m],D[x]),y[T]=B}for(var S=0;S<a;S++)y[S]===B?d[S][m]=w[S]:d[S][m]=s?E(g,c[S][m]):E(c[S][m],g)}return n.createDenseMatrix({data:d,size:[a,v],datatype:F===n._datatype&&l===t._datatype?A:void 0})}}),an="matAlgo13xDD",on=["typed"],Dn=N(an,on,r=>{var{typed:e}=r;return function(t,i,s){var c=t._data,o=t._size,F=t._datatype,D=i._data,h=i._size,p=i._datatype,f=[];if(o.length!==h.length)throw new z(o.length,h.length);for(var l=0;l<o.length;l++){if(o[l]!==h[l])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");f[l]=o[l]}var a,v=s;typeof F=="string"&&F===p&&(a=F,v=e.find(s,[a,a]));var A=f.length>0?u(v,0,f,f[0],c,D):[];return t.createDenseMatrix({data:A,size:f,datatype:a})};function u(n,t,i,s,c,o){var F=[];if(t===i.length-1)for(var D=0;D<s;D++)F[D]=n(c[D],o[D]);else for(var h=0;h<s;h++)F[h]=u(n,t+1,i,i[t+1],c[h],o[h]);return F}});function W(r,e){if(er(r.size(),e.size()))return[r,e];var u=Rr(r.size(),e.size());return[r,e].map(n=>sn(n,u))}function sn(r,e){return er(r.size(),e)?r:r.create(ar(r.valueOf(),e),r.datatype())}var fn="matrixAlgorithmSuite",cn=["typed","matrix"],Hr=N(fn,cn,r=>{var{typed:e,matrix:u}=r,n=Dn({typed:e}),t=We({typed:e});return function(s){var c=s.elop,o=s.SD||s.DS,F;c?(F={"DenseMatrix, DenseMatrix":(f,l)=>n(...W(f,l),c),"Array, Array":(f,l)=>n(...W(u(f),u(l)),c).valueOf(),"Array, DenseMatrix":(f,l)=>n(...W(u(f),l),c),"DenseMatrix, Array":(f,l)=>n(...W(f,u(l)),c)},s.SS&&(F["SparseMatrix, SparseMatrix"]=(f,l)=>s.SS(...W(f,l),c,!1)),s.DS&&(F["DenseMatrix, SparseMatrix"]=(f,l)=>s.DS(...W(f,l),c,!1),F["Array, SparseMatrix"]=(f,l)=>s.DS(...W(u(f),l),c,!1)),o&&(F["SparseMatrix, DenseMatrix"]=(f,l)=>o(...W(l,f),c,!0),F["SparseMatrix, Array"]=(f,l)=>o(...W(u(l),f),c,!0))):(F={"DenseMatrix, DenseMatrix":e.referToSelf(f=>(l,a)=>n(...W(l,a),f)),"Array, Array":e.referToSelf(f=>(l,a)=>n(...W(u(l),u(a)),f).valueOf()),"Array, DenseMatrix":e.referToSelf(f=>(l,a)=>n(...W(u(l),a),f)),"DenseMatrix, Array":e.referToSelf(f=>(l,a)=>n(...W(l,u(a)),f))},s.SS&&(F["SparseMatrix, SparseMatrix"]=e.referToSelf(f=>(l,a)=>s.SS(...W(l,a),f,!1))),s.DS&&(F["DenseMatrix, SparseMatrix"]=e.referToSelf(f=>(l,a)=>s.DS(...W(l,a),f,!1)),F["Array, SparseMatrix"]=e.referToSelf(f=>(l,a)=>s.DS(...W(u(l),a),f,!1))),o&&(F["SparseMatrix, DenseMatrix"]=e.referToSelf(f=>(l,a)=>o(...W(a,l),f,!0)),F["SparseMatrix, Array"]=e.referToSelf(f=>(l,a)=>o(...W(u(a),l),f,!0))));var D=s.scalar||"any",h=s.Ds||s.Ss;h&&(c?(F["DenseMatrix,"+D]=(f,l)=>t(f,l,c,!1),F[D+", DenseMatrix"]=(f,l)=>t(l,f,c,!0),F["Array,"+D]=(f,l)=>t(u(f),l,c,!1).valueOf(),F[D+", Array"]=(f,l)=>t(u(l),f,c,!0).valueOf()):(F["DenseMatrix,"+D]=e.referToSelf(f=>(l,a)=>t(l,a,f,!1)),F[D+", DenseMatrix"]=e.referToSelf(f=>(l,a)=>t(a,l,f,!0)),F["Array,"+D]=e.referToSelf(f=>(l,a)=>t(u(l),a,f,!1).valueOf()),F[D+", Array"]=e.referToSelf(f=>(l,a)=>t(u(a),l,f,!0).valueOf())));var p=s.sS!==void 0?s.sS:s.Ss;return c?(s.Ss&&(F["SparseMatrix,"+D]=(f,l)=>s.Ss(f,l,c,!1)),p&&(F[D+", SparseMatrix"]=(f,l)=>p(l,f,c,!0))):(s.Ss&&(F["SparseMatrix,"+D]=e.referToSelf(f=>(l,a)=>s.Ss(l,a,f,!1))),p&&(F[D+", SparseMatrix"]=e.referToSelf(f=>(l,a)=>p(a,l,f,!0)))),c&&c.signatures&&Pu(F,c.signatures),F}}),ln="matAlgo01xDSid",vn=["typed"],pn=N(ln,vn,r=>{var{typed:e}=r;return function(n,t,i,s){var c=n._data,o=n._size,F=n._datatype||n.getDataType(),D=t._values,h=t._index,p=t._ptr,f=t._size,l=t._datatype||t._data===void 0?t._datatype:t.getDataType();if(o.length!==f.length)throw new z(o.length,f.length);if(o[0]!==f[0]||o[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+f+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var a=o[0],v=o[1],A=typeof F=="string"&&F!=="mixed"&&F===l?F:void 0,g=A?e.find(i,[A,A]):i,E,d,C=[];for(E=0;E<a;E++)C[E]=[];var w=[],y=[];for(d=0;d<v;d++){for(var m=d+1,B=p[d],_=p[d+1],b=B;b<_;b++)E=h[b],w[E]=s?g(D[b],c[E][d]):g(c[E][d],D[b]),y[E]=m;for(E=0;E<a;E++)y[E]===m?C[E][d]=w[E]:C[E][d]=c[E][d]}return n.createDenseMatrix({data:C,size:[a,v],datatype:F===n._datatype&&l===t._datatype?A:void 0})}}),hn="matAlgo04xSidSid",Fn=["typed","equalScalar"],An=N(hn,Fn,r=>{var{typed:e,equalScalar:u}=r;return function(t,i,s){var c=t._values,o=t._index,F=t._ptr,D=t._size,h=t._datatype||t._data===void 0?t._datatype:t.getDataType(),p=i._values,f=i._index,l=i._ptr,a=i._size,v=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(D.length!==a.length)throw new z(D.length,a.length);if(D[0]!==a[0]||D[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+a+")");var A=D[0],g=D[1],E,d=u,C=0,w=s;typeof h=="string"&&h===v&&h!=="mixed"&&(E=h,d=e.find(u,[E,E]),C=e.convert(0,E),w=e.find(s,[E,E]));var y=c&&p?[]:void 0,m=[],B=[],_=c&&p?[]:void 0,b=c&&p?[]:void 0,x=[],T=[],S,$,M,q,J;for($=0;$<g;$++){B[$]=m.length;var O=$+1;for(q=F[$],J=F[$+1],M=q;M<J;M++)S=o[M],m.push(S),x[S]=O,_&&(_[S]=c[M]);for(q=l[$],J=l[$+1],M=q;M<J;M++)if(S=f[M],x[S]===O){if(_){var G=w(_[S],p[M]);d(G,C)?x[S]=null:_[S]=G}}else m.push(S),T[S]=O,b&&(b[S]=p[M]);if(_&&b)for(M=B[$];M<m.length;)S=m[M],x[S]===O?(y[M]=_[S],M++):T[S]===O?(y[M]=b[S],M++):m.splice(M,1)}return B[g]=m.length,t.createSparseMatrix({values:y,index:m,ptr:B,size:[A,g],datatype:h===t._datatype&&v===i._datatype?E:void 0})}}),En="matAlgo10xSids",dn=["typed","DenseMatrix"],gn=N(En,dn,r=>{var{typed:e,DenseMatrix:u}=r;return function(t,i,s,c){var o=t._values,F=t._index,D=t._ptr,h=t._size,p=t._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f=h[0],l=h[1],a,v=s;typeof p=="string"&&(a=p,i=e.convert(i,a),v=e.find(s,[a,a]));for(var A=[],g=[],E=[],d=0;d<l;d++){for(var C=d+1,w=D[d],y=D[d+1],m=w;m<y;m++){var B=F[m];g[B]=o[m],E[B]=C}for(var _=0;_<f;_++)d===0&&(A[_]=[]),E[_]===C?A[_][d]=c?v(i,g[_]):v(g[_],i):A[_][d]=i}return new u({data:A,size:[f,l],datatype:a})}}),mn="sqrt",Cn=["config","typed","Complex"],wn=N(mn,Cn,r=>{var{config:e,typed:u,Complex:n}=r;return u("sqrt",{number:t,Complex:function(s){return s.sqrt()},BigNumber:function(s){return!s.isNegative()||e.predictable?s.sqrt():t(s.toNumber())},Unit:function(s){return s.pow(.5)}});function t(i){return isNaN(i)?NaN:i>=0||e.predictable?Math.sqrt(i):new n(i,0).sqrt()}}),le="square",yn=["typed"],Bn=N(le,yn,r=>{var{typed:e}=r;return e(le,{number:Je,Complex:function(n){return n.mul(n)},BigNumber:function(n){return n.times(n)},bigint:function(n){return n*n},Fraction:function(n){return n.mul(n)},Unit:function(n){return n.pow(2)}})}),_n="matAlgo07xSSf",bn=["typed","DenseMatrix"],Ze=N(_n,bn,r=>{var{typed:e,DenseMatrix:u}=r;return function(i,s,c){var o=i._size,F=i._datatype||i._data===void 0?i._datatype:i.getDataType(),D=s._size,h=s._datatype||s._data===void 0?s._datatype:s.getDataType();if(o.length!==D.length)throw new z(o.length,D.length);if(o[0]!==D[0]||o[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+D+")");var p=o[0],f=o[1],l,a=0,v=c;typeof F=="string"&&F===h&&F!=="mixed"&&(l=F,a=e.convert(0,l),v=e.find(c,[l,l]));var A,g,E=[];for(A=0;A<p;A++)E[A]=[];var d=[],C=[],w=[],y=[];for(g=0;g<f;g++){var m=g+1;for(n(i,g,w,d,m),n(s,g,y,C,m),A=0;A<p;A++){var B=w[A]===m?d[A]:a,_=y[A]===m?C[A]:a;E[A][g]=v(B,_)}}return new u({data:E,size:[p,f],datatype:F===i._datatype&&h===s._datatype?l:void 0})};function n(t,i,s,c,o){for(var F=t._values,D=t._index,h=t._ptr,p=h[i],f=h[i+1];p<f;p++){var l=D[p];s[l]=o,c[l]=F[p]}}}),ve="concat",Sn=["typed","matrix","isInteger"],Nn=N(ve,Sn,r=>{var{typed:e,matrix:u,isInteger:n}=r;return e(ve,{"...Array | Matrix | number | BigNumber":function(i){var s,c=i.length,o=-1,F,D=!1,h=[];for(s=0;s<c;s++){var p=i[s];if(Q(p)&&(D=!0),I(p)||Z(p)){if(s!==c-1)throw new Error("Dimension must be specified as last argument");if(F=o,o=p.valueOf(),!n(o))throw new TypeError("Integer number expected for dimension");if(o<0||s>0&&o>F)throw new nr(o,F+1)}else{var f=V(p).valueOf(),l=K(f);if(h[s]=f,F=o,o=l.length-1,s>0&&o!==F)throw new z(F+1,o+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var a=h.shift();h.length;)a=Ie(a,h.shift(),o);return D?u(a):a},"...string":function(i){return i.join("")}})}),Mr="map",xn=["typed"],Mn=N(Mr,xn,r=>{var{typed:e}=r;return e(Mr,{"Array, function":n,"Matrix, function":function(i,s){return i.map(s)},"Array|Matrix, Array|Matrix, ...Array|Matrix|function":(t,i,s)=>u([t,i,...s.slice(0,s.length-1)],s[s.length-1])});function u(t,i){if(typeof i!="function")throw new Error("Last argument must be a callback function");var s=t[0].isMatrix,c=Rr(...t.map(d=>d.isMatrix?d.size():K(d))),o=s?(d,C)=>d.get(C):Lr,F=s?t.map(d=>d.isMatrix?d.create(ar(d.toArray(),c),d.datatype()):t[0].create(ar(d.valueOf(),c))):t.map(d=>d.isMatrix?ar(d.toArray(),c):ar(d,c)),D;if(e.isTypedFunction(i)){var h=c.map(()=>0),p=F.map(d=>o(d,h)),f=E(i,p,h,F);D=A(f)}else{var l=t.length,a=g(i,l);D=A(a)}var v=(d,C)=>D([d,...F.slice(1).map(w=>o(w,C))],C);if(s)return F[0].map(v);return n(F[0],v);function A(d){switch(d){case 0:return C=>i(...C);case 1:return(C,w)=>i(...C,w);case 2:return(C,w)=>i(...C,w,...F)}}function g(d,C){return d.length>C+1?2:d.length===C+1?1:0}function E(d,C,w,y){return e.resolve(d,[...C,w,...y])!==null?2:e.resolve(d,[...C,w])!==null?1:(e.resolve(d,C)!==null,0)}}function n(t,i){return Ue(t,[],t,pr(i,t,Mr))}});function Tn(){throw new Error('No "bignumber" implementation available')}function zn(){throw new Error('No "fraction" implementation available')}var pe="zeros",On=["typed","config","matrix","BigNumber"],$n=N(pe,On,r=>{var{typed:e,config:u,matrix:n,BigNumber:t}=r;return e(pe,{"":function(){return u.matrix==="Array"?i([]):i([],"default")},"...number | BigNumber | string":function(F){var D=F[F.length-1];if(typeof D=="string"){var h=F.pop();return i(F,h)}else return u.matrix==="Array"?i(F):i(F,"default")},Array:i,Matrix:function(F){var D=F.storage();return i(F.valueOf(),D)},"Array | Matrix, string":function(F,D){return i(F.valueOf(),D)}});function i(o,F){var D=s(o),h=D?new t(0):0;if(c(o),F){var p=n(F);return o.length>0?p.resize(o,h):p}else{var f=[];return o.length>0?zr(f,o,h):f}}function s(o){var F=!1;return o.forEach(function(D,h,p){Z(D)&&(F=!0,p[h]=D.toNumber())}),F}function c(o){o.forEach(function(F){if(typeof F!="number"||!L(F)||F<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Dr(r,e,u){var n;return String(r).includes("Unexpected type")?(n=arguments.length>2?" (type: "+k(u)+", value: "+JSON.stringify(u)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).includes("complex numbers")?(n=arguments.length>2?" (type: "+k(u)+", value: "+JSON.stringify(u)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var In="numeric",Pn=["number","?bignumber","?fraction"],Un=N(In,Pn,r=>{var{number:e,bignumber:u,fraction:n}=r,t={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:s=>e(s),BigNumber:u?s=>u(s):Tn,bigint:s=>BigInt(s),Fraction:n?s=>n(s):zn};return function(c){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",F=arguments.length>2?arguments[2]:void 0;if(F!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var D=k(c);if(!(D in t))throw new TypeError("Cannot convert "+c+' of type "'+D+'"; valid input types are '+Object.keys(t).join(", "));if(!(o in i))throw new TypeError("Cannot convert "+c+' to type "'+o+'"; valid output types are '+Object.keys(i).join(", "));return o===D?c:i[o](c)}}),ir="Number of decimals in function round must be an integer",he="round",qn=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Rn=N(he,qn,r=>{var{typed:e,config:u,matrix:n,equalScalar:t,zeros:i,BigNumber:s,DenseMatrix:c}=r,o=jt({typed:e,equalScalar:t}),F=Zr({typed:e,DenseMatrix:c}),D=We({typed:e});function h(p){return Math.abs(Fr(p).exponent)}return e(he,{number:function(f){var l=cr(f,h(u.relTol)),a=ur(f,l,u.relTol,u.absTol)?l:f;return cr(a)},"number, number":function(f,l){var a=h(u.relTol);if(l>=a)return cr(f,l);var v=cr(f,a),A=ur(f,v,u.relTol,u.absTol)?v:f;return cr(A,l)},"number, BigNumber":function(f,l){if(!l.isInteger())throw new TypeError(ir);return new s(f).toDecimalPlaces(l.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,l){if(l%1)throw new TypeError(ir);return f.round(l)},"Complex, BigNumber":function(f,l){if(!l.isInteger())throw new TypeError(ir);var a=l.toNumber();return f.round(a)},BigNumber:function(f){var l=new s(f).toDecimalPlaces(h(u.relTol)),a=hr(f,l,u.relTol,u.absTol)?l:f;return a.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,l){if(!l.isInteger())throw new TypeError(ir);var a=h(u.relTol);if(l>=a)return f.toDecimalPlaces(l.toNumber());var v=f.toDecimalPlaces(a),A=hr(f,v,u.relTol,u.absTol)?v:f;return A.toDecimalPlaces(l.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,l){if(l%1)throw new TypeError(ir);return f.round(l)},"Fraction, BigNumber":function(f,l){if(!l.isInteger())throw new TypeError(ir);return f.round(l.toNumber())},"Unit, number, Unit":e.referToSelf(p=>function(f,l,a){var v=f.toNumeric(a);return a.multiply(p(v,l))}),"Unit, BigNumber, Unit":e.referToSelf(p=>(f,l,a)=>p(f,l.toNumber(),a)),"Unit, Unit":e.referToSelf(p=>(f,l)=>p(f,0,l)),"Array | Matrix, number, Unit":e.referToSelf(p=>(f,l,a)=>tr(f,v=>p(v,l,a))),"Array | Matrix, BigNumber, Unit":e.referToSelf(p=>(f,l,a)=>p(f,l.toNumber(),a)),"Array | Matrix, Unit":e.referToSelf(p=>(f,l)=>p(f,0,l)),"Array | Matrix":e.referToSelf(p=>f=>tr(f,p)),"SparseMatrix, number | BigNumber":e.referToSelf(p=>(f,l)=>o(f,l,p,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(p=>(f,l)=>D(f,l,p,!1)),"Array, number | BigNumber":e.referToSelf(p=>(f,l)=>D(n(f),l,p,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(p=>(f,l)=>t(f,0)?i(l.size(),l.storage()):F(l,f,p,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(p=>(f,l)=>t(f,0)?i(l.size(),l.storage()):D(l,f,p,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(p=>(f,l)=>D(n(l),f,p,!0).valueOf())})}),yr="smaller",Ln=["typed","config","matrix","DenseMatrix","concat"],Jn=N(yr,Ln,r=>{var{typed:e,config:u,matrix:n,DenseMatrix:t,concat:i}=r,s=Ve({typed:e}),c=Ze({typed:e,DenseMatrix:t}),o=Zr({typed:e,DenseMatrix:t}),F=Hr({typed:e,matrix:n,concat:i}),D=Vr({typed:e});return e(yr,Wn({typed:e,config:u}),{"boolean, boolean":(h,p)=>h<p,"BigNumber, BigNumber":function(p,f){return p.lt(f)&&!hr(p,f,u.relTol,u.absTol)},"bigint, bigint":(h,p)=>h<p,"Fraction, Fraction":(h,p)=>h.compare(p)===-1,"Complex, Complex":function(p,f){throw new TypeError("No ordering relation is defined for complex numbers")}},D,F({SS:c,DS:s,Ss:o}))}),Wn=N(yr,["typed","config"],r=>{var{typed:e,config:u}=r;return e(yr,{"number, number":function(t,i){return t<i&&!ur(t,i,u.relTol,u.absTol)}})}),Br="larger",Vn=["typed","config","matrix","DenseMatrix","concat"],Zn=N(Br,Vn,r=>{var{typed:e,config:u,matrix:n,DenseMatrix:t,concat:i}=r,s=Ve({typed:e}),c=Ze({typed:e,DenseMatrix:t}),o=Zr({typed:e,DenseMatrix:t}),F=Hr({typed:e,matrix:n,concat:i}),D=Vr({typed:e});return e(Br,Hn({typed:e,config:u}),{"boolean, boolean":(h,p)=>h>p,"BigNumber, BigNumber":function(p,f){return p.gt(f)&&!hr(p,f,u.relTol,u.absTol)},"bigint, bigint":(h,p)=>h>p,"Fraction, Fraction":(h,p)=>h.compare(p)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},D,F({SS:c,DS:s,Ss:o}))}),Hn=N(Br,["typed","config"],r=>{var{typed:e,config:u}=r;return e(Br,{"number, number":function(t,i){return t>i&&!ur(t,i,u.relTol,u.absTol)}})}),Fe="max",Gn=["typed","config","numeric","larger"],Xn=N(Fe,Gn,r=>{var{typed:e,config:u,numeric:n,larger:t}=r;return e(Fe,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(o,F){return Wr(o,F.valueOf(),i)},"...":function(o){if(Jr(o))throw new TypeError("Scalar values expected in function max");return s(o)}});function i(c,o){try{return t(c,o)?c:o}catch(F){throw Dr(F,"max",o)}}function s(c){var o;if(br(c,function(F){try{isNaN(F)&&typeof F=="number"?o=NaN:(o===void 0||t(F,o))&&(o=F)}catch(D){throw Dr(D,"max",F)}}),o===void 0)throw new Error("Cannot calculate max of an empty array");return typeof o=="string"&&(o=n(o,Pr(o,u))),o}}),Ae="min",Kn=["typed","config","numeric","smaller"],Qn=N(Ae,Kn,r=>{var{typed:e,config:u,numeric:n,smaller:t}=r;return e(Ae,{"Array | Matrix":s,"Array | Matrix, number | BigNumber":function(o,F){return Wr(o,F.valueOf(),i)},"...":function(o){if(Jr(o))throw new TypeError("Scalar values expected in function min");return s(o)}});function i(c,o){try{return t(c,o)?c:o}catch(F){throw Dr(F,"min",o)}}function s(c){var o;if(br(c,function(F){try{isNaN(F)&&typeof F=="number"?o=NaN:(o===void 0||t(F,o))&&(o=F)}catch(D){throw Dr(D,"min",F)}}),o===void 0)throw new Error("Cannot calculate min of an empty array");return typeof o=="string"&&(o=n(o,Pr(o,u))),o}}),Ee="add",Yn=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],jn=N(Ee,Yn,r=>{var{typed:e,matrix:u,addScalar:n,equalScalar:t,DenseMatrix:i,SparseMatrix:s,concat:c}=r,o=pn({typed:e}),F=An({typed:e,equalScalar:t}),D=gn({typed:e,DenseMatrix:i}),h=Hr({typed:e,matrix:u,concat:c});return e(Ee,{"any, any":n,"any, any, ...any":e.referToSelf(p=>(f,l,a)=>{for(var v=p(f,l),A=0;A<a.length;A++)v=p(v,a[A]);return v})},h({elop:n,DS:o,SS:F,Ss:D}))}),de="sum",kn=["typed","config","add","numeric"],ra=N(de,kn,r=>{var{typed:e,config:u,add:n,numeric:t}=r;return e(de,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":s,"...":function(o){if(Jr(o))throw new TypeError("Scalar values expected in function sum");return i(o)}});function i(c){var o;return br(c,function(F){try{o=o===void 0?F:n(o,F)}catch(D){throw Dr(D,"sum",F)}}),o===void 0&&(o=t(0,u.number)),typeof o=="string"&&(o=t(o,Pr(o,u))),o}function s(c,o){try{var F=Wr(c,o,n);return F}catch(D){throw Dr(D,"sum")}}}),Sr=ku({config:Y}),He=ut({}),Ge=at({}),Gr=Dt({}),sr=Ct({Matrix:Gr}),U=Ku({BigNumber:Sr,Complex:He,DenseMatrix:sr,Fraction:Ge}),la=Gt({typed:U}),ea=Kt({typed:U}),Xr=Nt({config:Y,typed:U}),ua=Bt({typed:U}),va=Mn({typed:U}),ta=Pt({typed:U}),Xe=Tt({Matrix:Gr,equalScalar:Xr,typed:U}),pa=Bn({typed:U}),na=Rt({BigNumber:Sr,typed:U}),ha=wn({Complex:He,config:Y,typed:U}),aa=Wt({Fraction:Ge,typed:U}),fr=Zt({DenseMatrix:sr,Matrix:Gr,SparseMatrix:Xe,typed:U}),Kr=Un({bignumber:na,fraction:aa,number:ta}),ia=$n({BigNumber:Sr,config:Y,matrix:fr,typed:U}),Qr=Nn({isInteger:ua,matrix:fr,typed:U}),Fa=Rn({BigNumber:Sr,DenseMatrix:sr,config:Y,equalScalar:Xr,matrix:fr,typed:U,zeros:ia}),oa=Jn({DenseMatrix:sr,concat:Qr,config:Y,matrix:fr,typed:U}),Da=jn({DenseMatrix:sr,SparseMatrix:Xe,addScalar:ea,concat:Qr,equalScalar:Xr,matrix:fr,typed:U}),sa=Zn({DenseMatrix:sr,concat:Qr,config:Y,matrix:fr,typed:U}),Aa=Qn({config:Y,numeric:Kr,smaller:oa,typed:U}),Ea=ra({add:Da,config:Y,numeric:Kr,typed:U}),da=Xn({config:Y,larger:sa,numeric:Kr,typed:U});export{la as a,da as b,va as c,Ea as d,ha as e,Aa as m,ta as n,Fa as r,pa as s};
