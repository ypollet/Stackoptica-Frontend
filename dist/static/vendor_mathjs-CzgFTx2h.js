import{ai as Ae,aj as dr,ak as Qr,al as H,am as rr}from"./vendor-DWQdnDYa.js";var de={relTol:1e-12,absTol:1e-15,matrix:"Matrix",number:"number",numberFallback:"number",precision:64,predictable:!1,randomSeed:null};function Qe(r,e){if(Er(r,e))return r[e];throw typeof r[e]=="function"&&je(r,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Ye(r,e,t){if(Er(r,e))return r[e]=t,t;throw new Error('No access to property "'+e+'"')}function Er(r,e){return!ke(r)&&!Array.isArray(r)?!1:lr(ru,e)?!0:!(e in Object.prototype||e in Function.prototype)}function je(r,e){return r==null||typeof r[e]!="function"||lr(r,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(r)?!1:lr(eu,e)?!0:!(e in Object.prototype||e in Function.prototype)}function ke(r){return typeof r=="object"&&r&&r.constructor===Object}var ru={length:!0,name:!0},eu={toString:!0,valueOf:!0,toLocaleString:!0};class uu{constructor(e){this.wrappedObject=e,this[Symbol.iterator]=this.entries}keys(){return Object.keys(this.wrappedObject).filter(e=>this.has(e)).values()}get(e){return Qe(this.wrappedObject,e)}set(e,t){return Ye(this.wrappedObject,e,t),this}has(e){return Er(this.wrappedObject,e)&&e in this.wrappedObject}entries(){return tu(this.keys(),e=>[e,this.get(e)])}forEach(e){for(var t of this.keys())e(this.get(t),t,this)}delete(e){Er(this.wrappedObject,e)&&delete this.wrappedObject[e]}clear(){for(var e of this.keys())this.delete(e)}get size(){return Object.keys(this.wrappedObject).length}}function tu(r,e){return{next:()=>{var t=r.next();return t.done?t:{value:e(t.value),done:!1}}}}function I(r){return typeof r=="number"}function Z(r){return!r||typeof r!="object"||typeof r.constructor!="function"?!1:r.isBigNumber===!0&&typeof r.constructor.prototype=="object"&&r.constructor.prototype.isBigNumber===!0||typeof r.constructor.isDecimal=="function"&&r.constructor.isDecimal(r)===!0}function nu(r){return typeof r=="bigint"}function Ee(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isComplex===!0||!1}function ge(r){return r&&typeof r=="object"&&Object.getPrototypeOf(r).isFraction===!0||!1}function me(r){return r&&r.constructor.prototype.isUnit===!0||!1}function Y(r){return typeof r=="string"}var q=Array.isArray;function K(r){return r&&r.constructor.prototype.isMatrix===!0||!1}function cr(r){return Array.isArray(r)||K(r)}function au(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function iu(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix===!0||!1}function ou(r){return r&&r.constructor.prototype.isRange===!0||!1}function Pr(r){return r&&r.constructor.prototype.isIndex===!0||!1}function Du(r){return typeof r=="boolean"}function su(r){return r&&r.constructor.prototype.isResultSet===!0||!1}function fu(r){return r&&r.constructor.prototype.isHelp===!0||!1}function cu(r){return typeof r=="function"}function lu(r){return r instanceof Date}function vu(r){return r instanceof RegExp}function Ur(r){return!!(r&&typeof r=="object"&&r.constructor===Object&&!Ee(r)&&!ge(r))}function pu(r){return r?r instanceof Map||r instanceof uu||typeof r.set=="function"&&typeof r.get=="function"&&typeof r.keys=="function"&&typeof r.has=="function":!1}function hu(r){return r===null}function Fu(r){return r===void 0}function Au(r){return r&&r.isAccessorNode===!0&&r.constructor.prototype.isNode===!0||!1}function du(r){return r&&r.isArrayNode===!0&&r.constructor.prototype.isNode===!0||!1}function Eu(r){return r&&r.isAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function gu(r){return r&&r.isBlockNode===!0&&r.constructor.prototype.isNode===!0||!1}function mu(r){return r&&r.isConditionalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Cu(r){return r&&r.isConstantNode===!0&&r.constructor.prototype.isNode===!0||!1}function yu(r){return r&&r.isFunctionAssignmentNode===!0&&r.constructor.prototype.isNode===!0||!1}function wu(r){return r&&r.isFunctionNode===!0&&r.constructor.prototype.isNode===!0||!1}function Bu(r){return r&&r.isIndexNode===!0&&r.constructor.prototype.isNode===!0||!1}function _u(r){return r&&r.isNode===!0&&r.constructor.prototype.isNode===!0||!1}function bu(r){return r&&r.isObjectNode===!0&&r.constructor.prototype.isNode===!0||!1}function Su(r){return r&&r.isOperatorNode===!0&&r.constructor.prototype.isNode===!0||!1}function Nu(r){return r&&r.isParenthesisNode===!0&&r.constructor.prototype.isNode===!0||!1}function xu(r){return r&&r.isRangeNode===!0&&r.constructor.prototype.isNode===!0||!1}function Mu(r){return r&&r.isRelationalNode===!0&&r.constructor.prototype.isNode===!0||!1}function Tu(r){return r&&r.isSymbolNode===!0&&r.constructor.prototype.isNode===!0||!1}function zu(r){return r&&r.constructor.prototype.isChain===!0||!1}function j(r){var e=typeof r;return e==="object"?r===null?"null":Z(r)?"BigNumber":r.constructor&&r.constructor.name?r.constructor.name:"Object":e}function V(r){var e=typeof r;if(e==="number"||e==="bigint"||e==="string"||e==="boolean"||r===null||r===void 0)return r;if(typeof r.clone=="function")return r.clone();if(Array.isArray(r))return r.map(function(t){return V(t)});if(r instanceof Date)return new Date(r.valueOf());if(Z(r))return r;if(Ur(r))return Ou(r,V);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(r,")"))}function Ou(r,e){var t={};for(var n in r)lr(r,n)&&(t[n]=e(r[n]));return t}function $u(r,e){for(var t in e)lr(e,t)&&(r[t]=e[t]);return r}function er(r,e){var t,n,u;if(Array.isArray(r)){if(!Array.isArray(e)||r.length!==e.length)return!1;for(n=0,u=r.length;n<u;n++)if(!er(r[n],e[n]))return!1;return!0}else{if(typeof r=="function")return r===e;if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(t in r)if(!(t in e)||!er(r[t],e[t]))return!1;for(t in e)if(!(t in r))return!1;return!0}else return r===e}}function lr(r,e){return r&&Object.hasOwnProperty.call(r,e)}function Iu(r,e){for(var t={},n=0;n<e.length;n++){var u=e[n],i=r[u];i!==void 0&&(t[u]=i)}return t}var Pu=["Matrix","Array"],Uu=["number","BigNumber","Fraction"],k=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(de)};Ae(k,de,{MATRIX_OPTIONS:Pu,NUMBER_OPTIONS:Uu});function M(r,e,t,n){function u(i){var f=Iu(i,e.map(Ju));return Ru(r,e,i),t(f)}return u.isFactory=!0,u.fn=r,u.dependencies=e.slice().sort(),n&&(u.meta=n),u}function Ru(r,e,t){var n=e.filter(i=>!qu(i)).every(i=>t[i]!==void 0);if(!n){var u=e.filter(i=>t[i]===void 0);throw new Error('Cannot create function "'.concat(r,'", ')+"some dependencies are missing: ".concat(u.map(i=>'"'.concat(i,'"')).join(", "),"."))}}function qu(r){return r&&r[0]==="?"}function Ju(r){return r&&r[0]==="?"?r.slice(1):r}function J(r){return typeof r=="boolean"?!0:isFinite(r)?r===Math.round(r):!1}function Lu(r){return/^-?\d+$/.test(r)}function Rr(r,e){return e.number==="bigint"&&!Lu(r)?e.numberFallback:e.number}function Mr(r,e,t){var n={2:"0b",8:"0o",16:"0x"},u=n[e],i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!J(t))throw new Error("size must be an integer");if(r>2**(t-1)-1||r<-(2**(t-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!J(r))throw new Error("Value must be an integer");r<0&&(r=r+2**t),i="i".concat(t)}var f="";return r<0&&(r=-r,f="-"),"".concat(f).concat(u).concat(r.toString(e)).concat(i)}function zr(r,e){if(typeof e=="function")return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var{notation:t,precision:n,wordSize:u}=Ce(e);switch(t){case"fixed":return ye(r,n);case"exponential":return we(r,n);case"engineering":return Wu(r,n);case"bin":return Mr(r,2,u);case"oct":return Mr(r,8,u);case"hex":return Mr(r,16,u);case"auto":return Vu(r,n,e).replace(/((\.\d*?)(0+))($|e)/,function(){var i=arguments[2],f=arguments[4];return i!=="."?i+f:f});default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Ce(r){var e="auto",t,n;if(r!==void 0)if(I(r))t=r;else if(Z(r))t=r.toNumber();else if(Ur(r))r.precision!==void 0&&(t=Yr(r.precision,()=>{throw new Error('Option "precision" must be a number or BigNumber')})),r.wordSize!==void 0&&(n=Yr(r.wordSize,()=>{throw new Error('Option "wordSize" must be a number or BigNumber')})),r.notation&&(e=r.notation);else throw new Error("Unsupported type of options, number, BigNumber, or object expected");return{notation:e,precision:t,wordSize:n}}function pr(r){var e=String(r).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+r);var t=e[1],n=e[2],u=parseFloat(e[4]||"0"),i=n.indexOf(".");u+=i!==-1?i-1:n.length-1;var f=n.replace(".","").replace(/^0*/,function(l){return u-=l.length,""}).replace(/0*$/,"").split("").map(function(l){return parseInt(l)});return f.length===0&&(f.push(0),u++),{sign:t,coefficients:f,exponent:u}}function Wu(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=pr(r),n=Br(t,e),u=n.exponent,i=n.coefficients,f=u%3===0?u:u<0?u-3-u%3:u-u%3;if(I(e))for(;e>i.length||u-f+1>i.length;)i.push(0);else for(var l=Math.abs(u-f)-(i.length-1),o=0;o<l;o++)i.push(0);for(var F=Math.abs(u-f),D=1;F>0;)D++,F--;var h=i.slice(D).join(""),v=I(e)&&h.length||h.match(/[1-9]/)?"."+h:"",s=i.slice(0,D).join("")+v+"e"+(u>=0?"+":"")+f.toString();return n.sign+s}function ye(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=pr(r),n=typeof e=="number"?Br(t,t.exponent+1+e):t,u=n.coefficients,i=n.exponent+1,f=i+(e||0);return u.length<f&&(u=u.concat(or(f-u.length))),i<0&&(u=or(-i+1).concat(u),i=1),i<u.length&&u.splice(i,0,i===0?"0.":"."),n.sign+u.join("")}function we(r,e){if(isNaN(r)||!isFinite(r))return String(r);var t=pr(r),n=e?Br(t,e):t,u=n.coefficients,i=n.exponent;u.length<e&&(u=u.concat(or(e-u.length)));var f=u.shift();return n.sign+f+(u.length>0?"."+u.join(""):"")+"e"+(i>=0?"+":"")+i}function Vu(r,e,t){if(isNaN(r)||!isFinite(r))return String(r);var n=jr(t==null?void 0:t.lowerExp,-3),u=jr(t==null?void 0:t.upperExp,5),i=pr(r),f=e?Br(i,e):i;if(f.exponent<n||f.exponent>=u)return we(r,e);var l=f.coefficients,o=f.exponent;l.length<e&&(l=l.concat(or(e-l.length))),l=l.concat(or(o-l.length+1+(l.length<e?e-l.length:0))),l=or(-o).concat(l);var F=o>0?o:0;return F<l.length-1&&l.splice(F+1,0,"."),f.sign+l.join("")}function Br(r,e){for(var t={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=t.coefficients;e<=0;)n.unshift(0),t.exponent++,e++;if(n.length>e){var u=n.splice(e,n.length-e);if(u[0]>=5){var i=e-1;for(n[i]++;n[i]===10;)n.pop(),i===0&&(n.unshift(0),t.exponent++,i++),i--,n[i]++}}return t}function or(r){for(var e=[],t=0;t<r;t++)e.push(0);return e}function Zu(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}function ur(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-8,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return isNaN(r)||isNaN(e)?!1:!isFinite(r)||!isFinite(e)?r===e:r===e?!0:Math.abs(r-e)<=Math.max(t*Math.max(Math.abs(r),Math.abs(e)),n)}function Yr(r,e){if(I(r))return r;if(Z(r))return r.toNumber();e()}function jr(r,e){return I(r)?r:Z(r)?r.toNumber():e}var Be=function(){return Be=dr.create,dr},Hu=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],Gu=M("typed",Hu,function(e){var{BigNumber:t,Complex:n,DenseMatrix:u,Fraction:i}=e,f=Be();return f.clear(),f.addTypes([{name:"number",test:I},{name:"Complex",test:Ee},{name:"BigNumber",test:Z},{name:"bigint",test:nu},{name:"Fraction",test:ge},{name:"Unit",test:me},{name:"identifier",test:l=>Y&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C8A\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CD\uA7D0\uA7D1\uA7D3\uA7D5-\uA7DC\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDDC0-\uDDF3\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDD4A-\uDD65\uDD6F-\uDD85\uDE80-\uDEA9\uDEB0\uDEB1\uDEC2-\uDEC4\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61\uDF80-\uDF89\uDF8B\uDF8E\uDF90-\uDFB5\uDFB7\uDFD1\uDFD3]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8\uDFC0-\uDFE0]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD80E\uD80F\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46\uDC60-\uDFFF]|\uD810[\uDC00-\uDFFA]|\uD811[\uDC00-\uDE46]|\uD818[\uDD00-\uDD1D]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDD40-\uDD6C\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDDD0-\uDDED\uDDF0\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(l)},{name:"string",test:Y},{name:"Chain",test:zu},{name:"Array",test:q},{name:"Matrix",test:K},{name:"DenseMatrix",test:au},{name:"SparseMatrix",test:iu},{name:"Range",test:ou},{name:"Index",test:Pr},{name:"boolean",test:Du},{name:"ResultSet",test:su},{name:"Help",test:fu},{name:"function",test:cu},{name:"Date",test:lu},{name:"RegExp",test:vu},{name:"null",test:hu},{name:"undefined",test:Fu},{name:"AccessorNode",test:Au},{name:"ArrayNode",test:du},{name:"AssignmentNode",test:Eu},{name:"BlockNode",test:gu},{name:"ConditionalNode",test:mu},{name:"ConstantNode",test:Cu},{name:"FunctionNode",test:wu},{name:"FunctionAssignmentNode",test:yu},{name:"IndexNode",test:Bu},{name:"Node",test:_u},{name:"ObjectNode",test:bu},{name:"OperatorNode",test:Su},{name:"ParenthesisNode",test:Nu},{name:"RangeNode",test:xu},{name:"RelationalNode",test:Mu},{name:"SymbolNode",test:Tu},{name:"Map",test:pu},{name:"Object",test:Ur}]),f.addConversions([{from:"number",to:"BigNumber",convert:function(o){if(t||hr(o),Zu(o)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+o+"). Use function bignumber(x) to convert to BigNumber.");return new t(o)}},{from:"number",to:"Complex",convert:function(o){return n||Fr(o),new n(o,0)}},{from:"BigNumber",to:"Complex",convert:function(o){return n||Fr(o),new n(o.toNumber(),0)}},{from:"bigint",to:"number",convert:function(o){if(o>Number.MAX_SAFE_INTEGER)throw new TypeError("Cannot implicitly convert bigint to number: value exceeds the max safe integer value (value: "+o+")");return Number(o)}},{from:"bigint",to:"BigNumber",convert:function(o){return t||hr(o),new t(o.toString())}},{from:"bigint",to:"Fraction",convert:function(o){return i||Ar(o),new i(o.toString())}},{from:"Fraction",to:"BigNumber",convert:function(o){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(o){return n||Fr(o),new n(o.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(o){i||Ar(o);var F=new i(o);if(F.valueOf()!==o)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+o+"). Use function fraction(x) to convert to Fraction.");return F}},{from:"string",to:"number",convert:function(o){var F=Number(o);if(isNaN(F))throw new Error('Cannot convert "'+o+'" to a number');return F}},{from:"string",to:"BigNumber",convert:function(o){t||hr(o);try{return new t(o)}catch{throw new Error('Cannot convert "'+o+'" to BigNumber')}}},{from:"string",to:"bigint",convert:function(o){try{return BigInt(o)}catch{throw new Error('Cannot convert "'+o+'" to BigInt')}}},{from:"string",to:"Fraction",convert:function(o){i||Ar(o);try{return new i(o)}catch{throw new Error('Cannot convert "'+o+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(o){n||Fr(o);try{return new n(o)}catch{throw new Error('Cannot convert "'+o+'" to Complex')}}},{from:"boolean",to:"number",convert:function(o){return+o}},{from:"boolean",to:"BigNumber",convert:function(o){return t||hr(o),new t(+o)}},{from:"boolean",to:"bigint",convert:function(o){return BigInt(+o)}},{from:"boolean",to:"Fraction",convert:function(o){return i||Ar(o),new i(+o)}},{from:"boolean",to:"string",convert:function(o){return String(o)}},{from:"Array",to:"Matrix",convert:function(o){return u||Xu(),new u(o)}},{from:"Matrix",to:"Array",convert:function(o){return o.valueOf()}}]),f.onMismatch=(l,o,F)=>{var D=f.createError(l,o,F);if(["wrongType","mismatch"].includes(D.data.category)&&o.length===1&&cr(o[0])&&F.some(v=>!v.params.includes(","))){var h=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw h.data=D.data,h}throw D},f.onMismatch=(l,o,F)=>{var D=f.createError(l,o,F);if(["wrongType","mismatch"].includes(D.data.category)&&o.length===1&&cr(o[0])&&F.some(v=>!v.params.includes(","))){var h=new TypeError("Function '".concat(l,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(l,")'."));throw h.data=D.data,h}throw D},f});function hr(r){throw new Error("Cannot convert value ".concat(r," into a BigNumber: no class 'BigNumber' provided"))}function Fr(r){throw new Error("Cannot convert value ".concat(r," into a Complex number: no class 'Complex' provided"))}function Xu(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function Ar(r){throw new Error("Cannot convert value ".concat(r," into a Fraction, no class 'Fraction' provided."))}var Ku="BigNumber",Qu=["?on","config"],Yu=M(Ku,Qu,r=>{var{on:e,config:t}=r,n=Qr.clone({precision:t.precision,modulo:Qr.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(u){return new n(u.value)},e&&e("config",function(u,i){u.precision!==i.precision&&n.config({precision:u.precision})}),n},{isClass:!0}),ju="Complex",ku=[],rt=M(ju,ku,()=>(Object.defineProperty(H,"name",{value:"Complex"}),H.prototype.constructor=H,H.prototype.type="Complex",H.prototype.isComplex=!0,H.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},H.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},H.prototype.format=function(r){var e="",t=this.im,n=this.re,u=zr(this.re,r),i=zr(this.im,r),f=I(r)?r:r?r.precision:null;if(f!==null){var l=Math.pow(10,-f);Math.abs(n/t)<l&&(n=0),Math.abs(t/n)<l&&(t=0)}return t===0?e=u:n===0?t===1?e="i":t===-1?e="-i":e=i+"i":t<0?t===-1?e=u+" - i":e=u+" - "+i.substring(1)+"i":t===1?e=u+" + i":e=u+" + "+i+"i",e},H.fromPolar=function(r){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return H(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var t=arguments[0],n=arguments[1];if(I(t)){if(me(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),I(n))return new H({r:t,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},H.prototype.valueOf=H.prototype.toString,H.fromJSON=function(r){return new H(r)},H.compare=function(r,e){return r.re>e.re?1:r.re<e.re?-1:r.im>e.im?1:r.im<e.im?-1:0},H),{isClass:!0}),et="Fraction",ut=[],tt=M(et,ut,()=>(Object.defineProperty(rr,"name",{value:"Fraction"}),rr.prototype.constructor=rr,rr.prototype.type="Fraction",rr.prototype.isFraction=!0,rr.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},rr.fromJSON=function(r){return new rr(r)},rr),{isClass:!0}),nt="Matrix",at=[],it=M(nt,at,()=>{function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}return r.prototype.type="Matrix",r.prototype.isMatrix=!0,r.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},r.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},r.prototype.create=function(e,t){throw new Error("Cannot invoke create on a Matrix interface")},r.prototype.subset=function(e,t,n){throw new Error("Cannot invoke subset on a Matrix interface")},r.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},r.prototype.set=function(e,t,n){throw new Error("Cannot invoke set on a Matrix interface")},r.prototype.resize=function(e,t){throw new Error("Cannot invoke resize on a Matrix interface")},r.prototype.reshape=function(e,t){throw new Error("Cannot invoke reshape on a Matrix interface")},r.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},r.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},r.prototype.map=function(e,t){throw new Error("Cannot invoke map on a Matrix interface")},r.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},r.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},r.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},r.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},r.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},r.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},r},{isClass:!0});function Tr(r,e,t){var n=r.constructor,u=new n(2),i="";if(t){if(t<1)throw new Error("size must be in greater than 0");if(!J(t))throw new Error("size must be an integer");if(r.greaterThan(u.pow(t-1).sub(1))||r.lessThan(u.pow(t-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(t-1,", 2^").concat(t-1,"-1]"));if(!r.isInteger())throw new Error("Value must be an integer");r.lessThan(0)&&(r=r.add(u.pow(t))),i="i".concat(t)}switch(e){case 2:return"".concat(r.toBinary()).concat(i);case 8:return"".concat(r.toOctal()).concat(i);case 16:return"".concat(r.toHexadecimal()).concat(i);default:throw new Error("Base ".concat(e," not supported "))}}function ot(r,e){if(typeof e=="function")return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var{notation:t,precision:n,wordSize:u}=Ce(e);switch(t){case"fixed":return st(r,n);case"exponential":return kr(r,n);case"engineering":return Dt(r,n);case"bin":return Tr(r,2,u);case"oct":return Tr(r,8,u);case"hex":return Tr(r,16,u);case"auto":{var i=re(e==null?void 0:e.lowerExp,-3),f=re(e==null?void 0:e.upperExp,5);if(r.isZero())return"0";var l,o=r.toSignificantDigits(n),F=o.e;return F>=i&&F<f?l=o.toFixed():l=kr(r,n),l.replace(/((\.\d*?)(0+))($|e)/,function(){var D=arguments[2],h=arguments[4];return D!=="."?D+h:h})}default:throw new Error('Unknown notation "'+t+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Dt(r,e){var t=r.e,n=t%3===0?t:t<0?t-3-t%3:t-t%3,u=r.mul(Math.pow(10,-n)),i=u.toPrecision(e);if(i.includes("e")){var f=r.constructor;i=new f(i).toFixed()}return i+"e"+(t>=0?"+":"")+n.toString()}function kr(r,e){return e!==void 0?r.toExponential(e-1):r.toExponential()}function st(r,e){return r.toFixed(e)}function re(r,e){return I(r)?r:Z(r)?r.toNumber():e}function X(r,e){var t=ft(r,e);return e&&typeof e=="object"&&"truncate"in e&&t.length>e.truncate?t.substring(0,e.truncate-3)+"...":t}function ft(r,e){if(typeof r=="number")return zr(r,e);if(Z(r))return ot(r,e);if(ct(r))return!e||e.fraction!=="decimal"?r.s*r.n+"/"+r.d:r.toString();if(Array.isArray(r))return _e(r,e);if(Y(r))return ee(r);if(typeof r=="function")return r.syntax?String(r.syntax):"function";if(r&&typeof r=="object"){if(typeof r.format=="function")return r.format(e);if(r&&r.toString(e)!=={}.toString())return r.toString(e);var t=Object.keys(r).map(n=>ee(n)+": "+X(r[n],e));return"{"+t.join(", ")+"}"}return String(r)}function ee(r){for(var e=String(r),t="",n=0;n<e.length;){var u=e.charAt(n);t+=u in ue?ue[u]:u,n++}return'"'+t+'"'}var ue={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function _e(r,e){if(Array.isArray(r)){for(var t="[",n=r.length,u=0;u<n;u++)u!==0&&(t+=", "),t+=_e(r[u],e);return t+="]",t}else return X(r,e)}function ct(r){return r&&typeof r=="object"&&typeof r.s=="number"&&typeof r.n=="number"&&typeof r.d=="number"||!1}function $(r,e,t){if(!(this instanceof $))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=e,this.relation=t,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}$.prototype=new RangeError;$.prototype.constructor=RangeError;$.prototype.name="DimensionError";$.prototype.isDimensionError=!0;function nr(r,e,t){if(!(this instanceof nr))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=t),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}nr.prototype=new RangeError;nr.prototype.constructor=RangeError;nr.prototype.name="IndexError";nr.prototype.isIndexError=!0;function Q(r){for(var e=[];Array.isArray(r);)e.push(r.length),r=r[0];return e}function be(r,e,t){var n,u=r.length;if(u!==e[t])throw new $(u,e[t]);if(t<e.length-1){var i=t+1;for(n=0;n<u;n++){var f=r[n];if(!Array.isArray(f))throw new $(e.length-1,e.length,"<");be(r[n],e,i)}}else for(n=0;n<u;n++)if(Array.isArray(r[n]))throw new $(e.length+1,e.length,">")}function te(r,e){var t=e.length===0;if(t){if(Array.isArray(r))throw new $(r.length,0)}else be(r,e,0)}function U(r,e){if(r!==void 0){if(!I(r)||!J(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||typeof e=="number"&&r>=e)throw new nr(r,e)}}function Or(r,e,t){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(u){if(!I(u)||!J(u)||u<0)throw new TypeError("Invalid size, must contain positive integers (size: "+X(e)+")")}),(I(r)||Z(r))&&(r=[r]);var n=t!==void 0?t:0;return $r(r,e,0,n),r}function $r(r,e,t,n){var u,i,f=r.length,l=e[t],o=Math.min(f,l);if(r.length=l,t<e.length-1){var F=t+1;for(u=0;u<o;u++)i=r[u],Array.isArray(i)||(i=[i],r[u]=i),$r(i,e,F,n);for(u=o;u<l;u++)i=[],r[u]=i,$r(i,e,F,n)}else{for(u=0;u<o;u++)for(;Array.isArray(r[u]);)r[u]=r[u][0];for(u=o;u<l;u++)r[u]=n}}function Se(r,e){var t=vt(r),n=t.length;if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new $(0,n,"!=");e=qr(e,n);var u=Ne(e);if(n!==u)throw new $(u,n,"!=");try{return lt(t,e)}catch(i){throw i instanceof $?new $(u,n,"!="):i}}function qr(r,e){var t=Ne(r),n=r.slice(),u=-1,i=r.indexOf(u),f=r.indexOf(u,i+1)>=0;if(f)throw new Error("More than one wildcard in sizes");var l=i>=0,o=e%t===0;if(l)if(o)n[i]=-e/t;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-t);return n}function Ne(r){return r.reduce((e,t)=>e*t,1)}function lt(r,e){for(var t=r,n,u=e.length-1;u>0;u--){var i=e[u];n=[];for(var f=t.length/i,l=0;l<f;l++)n.push(t.slice(l*i,(l+1)*i));t=n}return t}function xe(r,e,t,n){var u=n||Q(r);if(t)for(var i=0;i<t;i++)r=[r],u.unshift(1);for(r=Me(r,e,0);u.length<e;)u.push(1);return r}function Me(r,e,t){var n,u;if(Array.isArray(r)){var i=t+1;for(n=0,u=r.length;n<u;n++)r[n]=Me(r[n],e,i)}else for(var f=t;f<e;f++)r=[r];return r}function vt(r){if(!Array.isArray(r))return r;var e=[];return r.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e}function Jr(r,e){for(var t,n=0,u=0;u<r.length;u++){var i=r[u],f=Array.isArray(i);if(u===0&&f&&(n=i.length),f&&i.length!==n)return;var l=f?Jr(i,e):e(i);if(t===void 0)t=l;else if(t!==l)return"mixed"}return t}function Te(r,e,t,n){if(n<t){if(r.length!==e.length)throw new $(r.length,e.length);for(var u=[],i=0;i<r.length;i++)u[i]=Te(r[i],e[i],t,n+1);return u}else return r.concat(e)}function ze(){var r=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(r.length===1)return r[0];if(r.length>1)return r.slice(1).reduce(function(t,n){return Te(t,n,e,0)},r[0]);throw new Error("Wrong number of arguments in function concat")}function Oe(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var n=e.map(v=>v.length),u=Math.max(...n),i=new Array(u).fill(null),f=0;f<e.length;f++)for(var l=e[f],o=n[f],F=0;F<o;F++){var D=u-o+F;l[F]>i[D]&&(i[D]=l[F])}for(var h=0;h<e.length;h++)$e(e[h],i);return i}function $e(r,e){for(var t=e.length,n=r.length,u=0;u<n;u++){var i=t-n+u;if(r[u]<e[i]&&r[u]>1||r[u]>e[i])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(r,") not possible to broadcast dimension ").concat(n," with size ").concat(r[u]," to size ").concat(e[i]))}}function Ir(r,e){var t=Q(r);if(er(t,e))return r;$e(t,e);var n=Oe(t,e),u=n.length,i=[...Array(u-t.length).fill(1),...t],f=ht(r);t.length<u&&(f=Se(f,i),t=Q(f));for(var l=0;l<u;l++)t[l]<n[l]&&(f=pt(f,n[l],l),t=Q(f));return f}function pt(r,e,t){return ze(...Array(e).fill(r),t)}function Ie(r,e){if(!Array.isArray(r))throw new Error("Array expected");var t=Q(r);if(e.length!==t.length)throw new $(e.length,t.length);for(var n=0;n<e.length;n++)U(e[n],t[n]);return e.reduce((u,i)=>u[i],r)}function ht(r){return Ae([],r)}function gr(r,e,t){if(dr.isTypedFunction(r)){var n=(e.isMatrix?e.size():Q(e)).map(()=>0),u=e.isMatrix?e.get(n):Ie(e,n),i=Object.keys(r.signatures).length===1,f=Ft(r,u,n,e),l=i?Object.values(r.signatures)[0]:r;return f>=1&&f<=3?function(){for(var o=arguments.length,F=new Array(o),D=0;D<o;D++)F[D]=arguments[D];return ne(l,F.slice(0,f),t,r.name)}:function(){for(var o=arguments.length,F=new Array(o),D=0;D<o;D++)F[D]=arguments[D];return ne(l,F,t,r.name)}}return r}function Ft(r,e,t,n){for(var u=[e,t,n],i=3;i>0;i--){var f=u.slice(0,i);if(dr.resolve(r,f)!==null)return i}}function ne(r,e,t,n){try{return r(...e)}catch(u){At(u,e,t,n)}}function At(r,e,t,n){var u;if(r instanceof TypeError&&((u=r.data)===null||u===void 0?void 0:u.category)==="wrongType"){var i=[];throw i.push("value: ".concat(j(e[0]))),e.length>=2&&i.push("index: ".concat(j(e[1]))),e.length>=3&&i.push("array: ".concat(j(e[2]))),new TypeError("Function ".concat(t," cannot apply callback arguments ")+"".concat(n,"(").concat(i.join(", "),") at index ").concat(JSON.stringify(e[1])))}else throw new TypeError("Function ".concat(t," cannot apply callback arguments ")+"to function ".concat(n,": ").concat(r.message))}var dt="DenseMatrix",Et=["Matrix"],gt=M(dt,Et,r=>{var{Matrix:e}=r;function t(D,h){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");if(h&&!Y(h))throw new Error("Invalid datatype: "+h);if(K(D))D.type==="DenseMatrix"?(this._data=V(D._data),this._size=V(D._size),this._datatype=h||D._datatype):(this._data=D.toArray(),this._size=D.size(),this._datatype=h||D._datatype);else if(D&&q(D.data)&&q(D.size))this._data=D.data,this._size=D.size,te(this._data,this._size),this._datatype=h||D.datatype;else if(q(D))this._data=F(D),this._size=Q(this._data),te(this._data,this._size),this._datatype=h;else{if(D)throw new TypeError("Unsupported type of data ("+j(D)+")");this._data=[],this._size=[0],this._datatype=h}}t.prototype=new e,t.prototype.createDenseMatrix=function(D,h){return new t(D,h)},Object.defineProperty(t,"name",{value:"DenseMatrix"}),t.prototype.constructor=t,t.prototype.type="DenseMatrix",t.prototype.isDenseMatrix=!0,t.prototype.getDataType=function(){return Jr(this._data,j)},t.prototype.storage=function(){return"dense"},t.prototype.datatype=function(){return this._datatype},t.prototype.create=function(D,h){return new t(D,h)},t.prototype.subset=function(D,h,v){switch(arguments.length){case 1:return n(this,D);case 2:case 3:return i(this,D,h,v);default:throw new SyntaxError("Wrong number of arguments")}},t.prototype.get=function(D){return Ie(this._data,D)},t.prototype.set=function(D,h,v){if(!q(D))throw new TypeError("Array expected");if(D.length<this._size.length)throw new $(D.length,this._size.length,"<");var s,c,a,p=D.map(function(E){return E+1});o(this,p,v);var d=this._data;for(s=0,c=D.length-1;s<c;s++)a=D[s],U(a,d.length),d=d[a];return a=D[D.length-1],U(a,d.length),d[a]=h,this};function n(D,h){if(!Pr(h))throw new TypeError("Invalid index");var v=h.isScalar();if(v)return D.get(h.min());var s=h.size();if(s.length!==D._size.length)throw new $(s.length,D._size.length);for(var c=h.min(),a=h.max(),p=0,d=D._size.length;p<d;p++)U(c[p],D._size[p]),U(a[p],D._size[p]);return new t(u(D._data,h,s.length,0),D._datatype)}function u(D,h,v,s){var c=s===v-1,a=h.dimension(s);return c?a.map(function(p){return U(p,D.length),D[p]}).valueOf():a.map(function(p){U(p,D.length);var d=D[p];return u(d,h,v,s+1)}).valueOf()}function i(D,h,v,s){if(!h||h.isIndex!==!0)throw new TypeError("Invalid index");var c=h.size(),a=h.isScalar(),p;if(K(v)?(p=v.size(),v=v.valueOf()):p=Q(v),a){if(p.length!==0)throw new TypeError("Scalar expected");D.set(h.min(),v,s)}else{if(!er(p,c))try{p.length===0?v=Ir([v],c):v=Ir(v,c),p=Q(v)}catch{}if(c.length<D._size.length)throw new $(c.length,D._size.length,"<");if(p.length<c.length){for(var d=0,E=0;c[d]===1&&p[d]===1;)d++;for(;c[d]===1;)E++,d++;v=xe(v,c.length,E,p)}if(!er(c,p))throw new $(c,p,">");var A=h.max().map(function(w){return w+1});o(D,A,s);var m=c.length,C=0;f(D._data,h,v,m,C)}return D}function f(D,h,v,s,c){var a=c===s-1,p=h.dimension(c);a?p.forEach(function(d,E){U(d),D[d]=v[E[0]]}):p.forEach(function(d,E){U(d),f(D[d],h,v[E[0]],s,c+1)})}t.prototype.resize=function(D,h,v){if(!cr(D))throw new TypeError("Array or Matrix expected");var s=D.valueOf().map(a=>Array.isArray(a)&&a.length===1?a[0]:a),c=v?this.clone():this;return l(c,s,h)};function l(D,h,v){if(h.length===0){for(var s=D._data;q(s);)s=s[0];return s}return D._size=h.slice(0),D._data=Or(D._data,D._size,v),D}t.prototype.reshape=function(D,h){var v=h?this.clone():this;v._data=Se(v._data,D);var s=v._size.reduce((c,a)=>c*a);return v._size=qr(D,s),v};function o(D,h,v){for(var s=D._size.slice(0),c=!1;s.length<h.length;)s.push(0),c=!0;for(var a=0,p=h.length;a<p;a++)h[a]>s[a]&&(s[a]=h[a],c=!0);c&&l(D,s,v)}t.prototype.clone=function(){var D=new t({data:V(this._data),size:V(this._size),datatype:this._datatype});return D},t.prototype.size=function(){return this._size.slice(0)},t.prototype._forEach=function(D){var h=this,v=h.size();if(v.length===1){for(var s=0;s<v[0];s++)D(h._data,s,[s]);return}var c=Array(v.length).fill(0),a=Array(v.length-1),p=a.length-1;a[0]=h._data[0];for(var d=0;d<p;d++)a[d+1]=a[d][0];for(c[p]=-1;;){var E=void 0;for(E=p;E>=0;E--){if(c[E]++,c[E]===v[E]){c[E]=0;continue}a[E]=E===0?h._data[c[E]]:a[E-1][c[E]];for(var A=E;A<p;A++)a[A+1]=a[A][0];for(var m=0;m<v[a.length];m++)c[a.length]=m,D(a[p],m,c.slice(0));break}if(E===-1)break}},t.prototype.map=function(D){var h=this,v=new t(h),s=gr(D,h._data,"map");return v._forEach(function(c,a,p){c[a]=s(c[a],p,h)}),v},t.prototype.forEach=function(D){var h=this,v=gr(D,h._data,"map");h._forEach(function(s,c,a){v(s[c],a,h)})},t.prototype[Symbol.iterator]=function*(){var D=function*(v,s){if(q(v))for(var c=0;c<v.length;c++)yield*D(v[c],s.concat(c));else yield{value:v,index:s}};yield*D(this._data,[])},t.prototype.rows=function(){var D=[],h=this.size();if(h.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var v=this._data;for(var s of v)D.push(new t([s],this._datatype));return D},t.prototype.columns=function(){var D=this,h=[],v=this.size();if(v.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var s=this._data,c=function(d){var E=s.map(A=>[A[d]]);h.push(new t(E,D._datatype))},a=0;a<v[1];a++)c(a);return h},t.prototype.toArray=function(){return V(this._data)},t.prototype.valueOf=function(){return this._data},t.prototype.format=function(D){return X(this._data,D)},t.prototype.toString=function(){return X(this._data)},t.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},t.prototype.diagonal=function(D){if(D){if(Z(D)&&(D=D.toNumber()),!I(D)||!J(D))throw new TypeError("The parameter k must be an integer number")}else D=0;for(var h=D>0?D:0,v=D<0?-D:0,s=this._size[0],c=this._size[1],a=Math.min(s-v,c-h),p=[],d=0;d<a;d++)p[d]=this._data[d+v][d+h];return new t({data:p,size:[a],datatype:this._datatype})},t.diagonal=function(D,h,v,s){if(!q(D))throw new TypeError("Array expected, size parameter");if(D.length!==2)throw new Error("Only two dimensions matrix are supported");if(D=D.map(function(y){if(Z(y)&&(y=y.toNumber()),!I(y)||!J(y)||y<1)throw new Error("Size values must be positive integers");return y}),v){if(Z(v)&&(v=v.toNumber()),!I(v)||!J(v))throw new TypeError("The parameter k must be an integer number")}else v=0;var c=v>0?v:0,a=v<0?-v:0,p=D[0],d=D[1],E=Math.min(p-a,d-c),A;if(q(h)){if(h.length!==E)throw new Error("Invalid value array length");A=function(g){return h[g]}}else if(K(h)){var m=h.size();if(m.length!==1||m[0]!==E)throw new Error("Invalid matrix length");A=function(g){return h.get([g])}}else A=function(){return h};s||(s=Z(A(0))?A(0).mul(0):0);var C=[];if(D.length>0){C=Or(C,D,s);for(var w=0;w<E;w++)C[w+a][w+c]=A(w)}return new t({data:C,size:[p,d]})},t.fromJSON=function(D){return new t(D)},t.prototype.swapRows=function(D,h){if(!I(D)||!J(D)||!I(h)||!J(h))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return U(D,this._size[0]),U(h,this._size[0]),t._swapRows(D,h,this._data),this},t._swapRows=function(D,h,v){var s=v[D];v[D]=v[h],v[h]=s};function F(D){return K(D)?F(D.valueOf()):q(D)?D.map(F):D}return t},{isClass:!0});function mt(r){var e=r.length,t=r[0].length,n,u,i=[];for(u=0;u<t;u++){var f=[];for(n=0;n<e;n++)f.push(r[n][u]);i.push(f)}return i}function Lr(r){for(var e=0;e<r.length;e++)if(cr(r[e]))return!0;return!1}function _r(r,e){K(r)&&(r=r.valueOf());for(var t=0,n=r.length;t<n;t++){var u=r[t];Array.isArray(u)?_r(u,e):e(u)}}function tr(r,e,t){return r&&typeof r.map=="function"?r.map(function(n){return tr(n,e)}):e(r)}function Wr(r,e,t){var n=Array.isArray(r)?Q(r):r.size();if(e<0||e>=n.length)throw new nr(e,n.length);return K(r)?r.create(mr(r.valueOf(),e,t),r.datatype()):mr(r,e,t)}function mr(r,e,t){var n,u,i,f;if(e<=0)if(Array.isArray(r[0])){for(f=mt(r),u=[],n=0;n<f.length;n++)u[n]=mr(f[n],e-1,t);return u}else{for(i=r[0],n=1;n<r.length;n++)i=t(i,r[n]);return i}else{for(u=[],n=0;n<r.length;n++)u[n]=mr(r[n],e-1,t);return u}}var ae="isInteger",Ct=["typed"],yt=M(ae,Ct,r=>{var{typed:e}=r;return e(ae,{number:J,BigNumber:function(n){return n.isInt()},bigint:function(n){return!0},Fraction:function(n){return n.d===1&&isFinite(n.n)},"Array | Matrix":e.referToSelf(t=>n=>tr(n,t))})}),wt="number",Pe="number, number";function Ue(r){return Math.abs(r)}Ue.signature=wt;function Re(r,e){return r+e}Re.signature=Pe;function qe(r,e){return r*e}qe.signature=Pe;function fr(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!J(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(ye(r,e))}function vr(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e-9,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(t<=0)throw new Error("Relative tolerance must be greater than 0");if(n<0)throw new Error("Absolute tolerance must be at least 0");return r.isNaN()||e.isNaN()?!1:!r.isFinite()||!e.isFinite()?r.eq(e):r.eq(e)?!0:r.minus(e).abs().lte(r.constructor.max(r.constructor.max(r.abs(),e.abs()).mul(t),n))}function Bt(r,e,t,n){return ur(r.re,e.re,t,n)&&ur(r.im,e.im,t,n)}var Vr=M("compareUnits",["typed"],r=>{var{typed:e}=r;return{"Unit, Unit":e.referToSelf(t=>(n,u)=>{if(!n.equalBase(u))throw new Error("Cannot compare units with different base");return e.find(t,[n.valueType(),u.valueType()])(n.value,u.value)})}}),Cr="equalScalar",_t=["typed","config"],bt=M(Cr,_t,r=>{var{typed:e,config:t}=r,n=Vr({typed:e});return e(Cr,{"boolean, boolean":function(i,f){return i===f},"number, number":function(i,f){return ur(i,f,t.relTol,t.absTol)},"BigNumber, BigNumber":function(i,f){return i.eq(f)||vr(i,f,t.relTol,t.absTol)},"bigint, bigint":function(i,f){return i===f},"Fraction, Fraction":function(i,f){return i.equals(f)},"Complex, Complex":function(i,f){return Bt(i,f,t.relTol,t.absTol)}},n)});M(Cr,["typed","config"],r=>{var{typed:e,config:t}=r;return e(Cr,{"number, number":function(u,i){return ur(u,i,t.relTol,t.absTol)}})});var St="SparseMatrix",Nt=["typed","equalScalar","Matrix"],xt=M(St,Nt,r=>{var{typed:e,equalScalar:t,Matrix:n}=r;function u(a,p){if(!(this instanceof u))throw new SyntaxError("Constructor must be called with the new operator");if(p&&!Y(p))throw new Error("Invalid datatype: "+p);if(K(a))i(this,a,p);else if(a&&q(a.index)&&q(a.ptr)&&q(a.size))this._values=a.values,this._index=a.index,this._ptr=a.ptr,this._size=a.size,this._datatype=p||a.datatype;else if(q(a))f(this,a,p);else{if(a)throw new TypeError("Unsupported type of data ("+j(a)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=p}}function i(a,p,d){p.type==="SparseMatrix"?(a._values=p._values?V(p._values):void 0,a._index=V(p._index),a._ptr=V(p._ptr),a._size=V(p._size),a._datatype=d||p._datatype):f(a,p.valueOf(),d||p._datatype)}function f(a,p,d){a._values=[],a._index=[],a._ptr=[],a._datatype=d;var E=p.length,A=0,m=t,C=0;if(Y(d)&&(m=e.find(t,[d,d])||t,C=e.convert(0,d)),E>0){var w=0;do{a._ptr.push(a._index.length);for(var y=0;y<E;y++){var g=p[y];if(q(g)){if(w===0&&A<g.length&&(A=g.length),w<g.length){var B=g[w];m(B,C)||(a._values.push(B),a._index.push(y))}}else w===0&&A<1&&(A=1),m(g,C)||(a._values.push(g),a._index.push(y))}w++}while(w<A)}a._ptr.push(a._index.length),a._size=[E,A]}u.prototype=new n,u.prototype.createSparseMatrix=function(a,p){return new u(a,p)},Object.defineProperty(u,"name",{value:"SparseMatrix"}),u.prototype.constructor=u,u.prototype.type="SparseMatrix",u.prototype.isSparseMatrix=!0,u.prototype.getDataType=function(){return Jr(this._values,j)},u.prototype.storage=function(){return"sparse"},u.prototype.datatype=function(){return this._datatype},u.prototype.create=function(a,p){return new u(a,p)},u.prototype.density=function(){var a=this._size[0],p=this._size[1];return a!==0&&p!==0?this._index.length/(a*p):0},u.prototype.subset=function(a,p,d){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return l(this,a);case 2:case 3:return o(this,a,p,d);default:throw new SyntaxError("Wrong number of arguments")}};function l(a,p){if(!Pr(p))throw new TypeError("Invalid index");var d=p.isScalar();if(d)return a.get(p.min());var E=p.size();if(E.length!==a._size.length)throw new $(E.length,a._size.length);var A,m,C,w,y=p.min(),g=p.max();for(A=0,m=a._size.length;A<m;A++)U(y[A],a._size[A]),U(g[A],a._size[A]);var B=a._values,_=a._index,b=a._ptr,N=p.dimension(0),x=p.dimension(1),S=[],z=[];N.forEach(function(O,G){z[O]=G[0],S[O]=!0});var T=B?[]:void 0,P=[],R=[];return x.forEach(function(O){for(R.push(P.length),C=b[O],w=b[O+1];C<w;C++)A=_[C],S[A]===!0&&(P.push(z[A]),T&&T.push(B[C]))}),R.push(P.length),new u({values:T,index:P,ptr:R,size:E,datatype:a._datatype})}function o(a,p,d,E){if(!p||p.isIndex!==!0)throw new TypeError("Invalid index");var A=p.size(),m=p.isScalar(),C;if(K(d)?(C=d.size(),d=d.toArray()):C=Q(d),m){if(C.length!==0)throw new TypeError("Scalar expected");a.set(p.min(),d,E)}else{if(A.length!==1&&A.length!==2)throw new $(A.length,a._size.length,"<");if(C.length<A.length){for(var w=0,y=0;A[w]===1&&C[w]===1;)w++;for(;A[w]===1;)y++,w++;d=xe(d,A.length,y,C)}if(!er(A,C))throw new $(A,C,">");if(A.length===1){var g=p.dimension(0);g.forEach(function(b,N){U(b),a.set([b,0],d[N[0]],E)})}else{var B=p.dimension(0),_=p.dimension(1);B.forEach(function(b,N){U(b),_.forEach(function(x,S){U(x),a.set([b,x],d[N[0]][S[0]],E)})})}}return a}u.prototype.get=function(a){if(!q(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new $(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var p=a[0],d=a[1];U(p,this._size[0]),U(d,this._size[1]);var E=F(p,this._ptr[d],this._ptr[d+1],this._index);return E<this._ptr[d+1]&&this._index[E]===p?this._values[E]:0},u.prototype.set=function(a,p,d){if(!q(a))throw new TypeError("Array expected");if(a.length!==this._size.length)throw new $(a.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var E=a[0],A=a[1],m=this._size[0],C=this._size[1],w=t,y=0;Y(this._datatype)&&(w=e.find(t,[this._datatype,this._datatype])||t,y=e.convert(0,this._datatype)),(E>m-1||A>C-1)&&(v(this,Math.max(E+1,m),Math.max(A+1,C),d),m=this._size[0],C=this._size[1]),U(E,m),U(A,C);var g=F(E,this._ptr[A],this._ptr[A+1],this._index);return g<this._ptr[A+1]&&this._index[g]===E?w(p,y)?D(g,A,this._values,this._index,this._ptr):this._values[g]=p:w(p,y)||h(g,E,A,p,this._values,this._index,this._ptr),this};function F(a,p,d,E){if(d-p===0)return d;for(var A=p;A<d;A++)if(E[A]===a)return A;return p}function D(a,p,d,E,A){d.splice(a,1),E.splice(a,1);for(var m=p+1;m<A.length;m++)A[m]--}function h(a,p,d,E,A,m,C){A.splice(a,0,E),m.splice(a,0,p);for(var w=d+1;w<C.length;w++)C[w]++}u.prototype.resize=function(a,p,d){if(!cr(a))throw new TypeError("Array or Matrix expected");var E=a.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m);if(E.length!==2)throw new Error("Only two dimensions matrix are supported");E.forEach(function(m){if(!I(m)||!J(m)||m<0)throw new TypeError("Invalid size, must contain positive integers (size: "+X(E)+")")});var A=d?this.clone():this;return v(A,E[0],E[1],p)};function v(a,p,d,E){var A=E||0,m=t,C=0;Y(a._datatype)&&(m=e.find(t,[a._datatype,a._datatype])||t,C=e.convert(0,a._datatype),A=e.convert(A,a._datatype));var w=!m(A,C),y=a._size[0],g=a._size[1],B,_,b;if(d>g){for(_=g;_<d;_++)if(a._ptr[_]=a._values.length,w)for(B=0;B<y;B++)a._values.push(A),a._index.push(B);a._ptr[d]=a._values.length}else d<g&&(a._ptr.splice(d+1,g-d),a._values.splice(a._ptr[d],a._values.length),a._index.splice(a._ptr[d],a._index.length));if(g=d,p>y){if(w){var N=0;for(_=0;_<g;_++){a._ptr[_]=a._ptr[_]+N,b=a._ptr[_+1]+N;var x=0;for(B=y;B<p;B++,x++)a._values.splice(b+x,0,A),a._index.splice(b+x,0,B),N++}a._ptr[g]=a._values.length}}else if(p<y){var S=0;for(_=0;_<g;_++){a._ptr[_]=a._ptr[_]-S;var z=a._ptr[_],T=a._ptr[_+1]-S;for(b=z;b<T;b++)B=a._index[b],B>p-1&&(a._values.splice(b,1),a._index.splice(b,1),S++)}a._ptr[_]=a._values.length}return a._size[0]=p,a._size[1]=d,a}u.prototype.reshape=function(a,p){if(!q(a))throw new TypeError("Array expected");if(a.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");a.forEach(function(O){if(!I(O)||!J(O)||O<=-2||O===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+X(a)+")")});var d=this._size[0]*this._size[1];a=qr(a,d);var E=a[0]*a[1];if(d!==E)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var A=p?this.clone():this;if(this._size[0]===a[0]&&this._size[1]===a[1])return A;for(var m=[],C=0;C<A._ptr.length;C++)for(var w=0;w<A._ptr[C+1]-A._ptr[C];w++)m.push(C);for(var y=A._values.slice(),g=A._index.slice(),B=0;B<A._index.length;B++){var _=g[B],b=m[B],N=_*A._size[1]+b;m[B]=N%a[1],g[B]=Math.floor(N/a[1])}A._values.length=0,A._index.length=0,A._ptr.length=a[1]+1,A._size=a.slice();for(var x=0;x<A._ptr.length;x++)A._ptr[x]=0;for(var S=0;S<y.length;S++){var z=g[S],T=m[S],P=y[S],R=F(z,A._ptr[T],A._ptr[T+1],A._index);h(R,z,T,P,A._values,A._index,A._ptr)}return A},u.prototype.clone=function(){var a=new u({values:this._values?V(this._values):void 0,index:V(this._index),ptr:V(this._ptr),size:V(this._size),datatype:this._datatype});return a},u.prototype.size=function(){return this._size.slice(0)},u.prototype.map=function(a,p){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var d=this,E=this._size[0],A=this._size[1],m=gr(a,d,"map"),C=function(y,g,B){return m(y,[g,B],d)};return s(this,0,E-1,0,A-1,C,p)};function s(a,p,d,E,A,m,C){var w=[],y=[],g=[],B=t,_=0;Y(a._datatype)&&(B=e.find(t,[a._datatype,a._datatype])||t,_=e.convert(0,a._datatype));for(var b=function(Xe,Xr,Ke){var Kr=m(Xe,Xr,Ke);B(Kr,_)||(w.push(Kr),y.push(Xr))},N=E;N<=A;N++){g.push(w.length);var x=a._ptr[N],S=a._ptr[N+1];if(C)for(var z=x;z<S;z++){var T=a._index[z];T>=p&&T<=d&&b(a._values[z],T-p,N-E)}else{for(var P={},R=x;R<S;R++){var O=a._index[R];P[O]=a._values[R]}for(var G=p;G<=d;G++){var Ge=G in P?P[G]:0;b(Ge,G-p,N-E)}}}return g.push(w.length),new u({values:w,index:y,ptr:g,size:[d-p+1,A-E+1]})}u.prototype.forEach=function(a,p){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var d=this,E=this._size[0],A=this._size[1],m=gr(a,d,"forEach"),C=0;C<A;C++){var w=this._ptr[C],y=this._ptr[C+1];if(p)for(var g=w;g<y;g++){var B=this._index[g];m(this._values[g],[B,C],d)}else{for(var _={},b=w;b<y;b++){var N=this._index[b];_[N]=this._values[b]}for(var x=0;x<E;x++){var S=x in _?_[x]:0;m(S,[x,C],d)}}}},u.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var a=this._size[1],p=0;p<a;p++)for(var d=this._ptr[p],E=this._ptr[p+1],A=d;A<E;A++){var m=this._index[A];yield{value:this._values[A],index:[m,p]}}},u.prototype.toArray=function(){return c(this._values,this._index,this._ptr,this._size,!0)},u.prototype.valueOf=function(){return c(this._values,this._index,this._ptr,this._size,!1)};function c(a,p,d,E,A){var m=E[0],C=E[1],w=[],y,g;for(y=0;y<m;y++)for(w[y]=[],g=0;g<C;g++)w[y][g]=0;for(g=0;g<C;g++)for(var B=d[g],_=d[g+1],b=B;b<_;b++)y=p[b],w[y][g]=a?A?V(a[b]):a[b]:1;return w}return u.prototype.format=function(a){for(var p=this._size[0],d=this._size[1],E=this.density(),A="Sparse Matrix ["+X(p,a)+" x "+X(d,a)+"] density: "+X(E,a)+`
`,m=0;m<d;m++)for(var C=this._ptr[m],w=this._ptr[m+1],y=C;y<w;y++){var g=this._index[y];A+=`
    (`+X(g,a)+", "+X(m,a)+") ==> "+(this._values?X(this._values[y],a):"X")}return A},u.prototype.toString=function(){return X(this.toArray())},u.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},u.prototype.diagonal=function(a){if(a){if(Z(a)&&(a=a.toNumber()),!I(a)||!J(a))throw new TypeError("The parameter k must be an integer number")}else a=0;var p=a>0?a:0,d=a<0?-a:0,E=this._size[0],A=this._size[1],m=Math.min(E-d,A-p),C=[],w=[],y=[];y[0]=0;for(var g=p;g<A&&C.length<m;g++)for(var B=this._ptr[g],_=this._ptr[g+1],b=B;b<_;b++){var N=this._index[b];if(N===g-p+d){C.push(this._values[b]),w[C.length-1]=N-d;break}}return y.push(C.length),new u({values:C,index:w,ptr:y,size:[m,1]})},u.fromJSON=function(a){return new u(a)},u.diagonal=function(a,p,d,E,A){if(!q(a))throw new TypeError("Array expected, size parameter");if(a.length!==2)throw new Error("Only two dimensions matrix are supported");if(a=a.map(function(O){if(Z(O)&&(O=O.toNumber()),!I(O)||!J(O)||O<1)throw new Error("Size values must be positive integers");return O}),d){if(Z(d)&&(d=d.toNumber()),!I(d)||!J(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var m=t,C=0;Y(A)&&(m=e.find(t,[A,A])||t,C=e.convert(0,A));var w=d>0?d:0,y=d<0?-d:0,g=a[0],B=a[1],_=Math.min(g-y,B-w),b;if(q(p)){if(p.length!==_)throw new Error("Invalid value array length");b=function(G){return p[G]}}else if(K(p)){var N=p.size();if(N.length!==1||N[0]!==_)throw new Error("Invalid matrix length");b=function(G){return p.get([G])}}else b=function(){return p};for(var x=[],S=[],z=[],T=0;T<B;T++){z.push(x.length);var P=T-w;if(P>=0&&P<_){var R=b(P);m(R,C)||(S.push(P+y),x.push(R))}}return z.push(x.length),new u({values:x,index:S,ptr:z,size:[g,B]})},u.prototype.swapRows=function(a,p){if(!I(a)||!J(a)||!I(p)||!J(p))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return U(a,this._size[0]),U(p,this._size[0]),u._swapRows(a,p,this._size[1],this._values,this._index,this._ptr),this},u._forEachRow=function(a,p,d,E,A){for(var m=E[a],C=E[a+1],w=m;w<C;w++)A(d[w],p[w])},u._swapRows=function(a,p,d,E,A,m){for(var C=0;C<d;C++){var w=m[C],y=m[C+1],g=F(a,w,y,A),B=F(p,w,y,A);if(g<y&&B<y&&A[g]===a&&A[B]===p){if(E){var _=E[g];E[g]=E[B],E[B]=_}continue}if(g<y&&A[g]===a&&(B>=y||A[B]!==p)){var b=E?E[g]:void 0;A.splice(B,0,p),E&&E.splice(B,0,b),A.splice(B<=g?g+1:g,1),E&&E.splice(B<=g?g+1:g,1);continue}if(B<y&&A[B]===p&&(g>=y||A[g]!==a)){var N=E?E[B]:void 0;A.splice(g,0,a),E&&E.splice(g,0,N),A.splice(g<=B?B+1:B,1),E&&E.splice(g<=B?B+1:B,1)}}},u},{isClass:!0}),Mt="number",Tt=["typed"];function zt(r){var e=r.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var t={"0b":2,"0o":8,"0x":16}[e[1]],n=e[2],u=e[3];return{input:r,radix:t,integerPart:n,fractionalPart:u}}else return null}function Ot(r){for(var e=parseInt(r.integerPart,r.radix),t=0,n=0;n<r.fractionalPart.length;n++){var u=parseInt(r.fractionalPart[n],r.radix);t+=u/Math.pow(r.radix,n+1)}var i=e+t;if(isNaN(i))throw new SyntaxError('String "'+r.input+'" is not a valid number');return i}var $t=M(Mt,Tt,r=>{var{typed:e}=r,t=e("number",{"":function(){return 0},number:function(u){return u},string:function(u){if(u==="NaN")return NaN;var i=zt(u);if(i)return Ot(i);var f=0,l=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);l&&(f=Number(l[2]),u=l[1]);var o=Number(u);if(isNaN(o))throw new SyntaxError('String "'+u+'" is not a valid number');if(l){if(o>2**f-1)throw new SyntaxError('String "'.concat(u,'" is out of range'));o>=2**(f-1)&&(o=o-2**f)}return o},BigNumber:function(u){return u.toNumber()},bigint:function(u){return Number(u)},Fraction:function(u){return u.valueOf()},Unit:e.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),null:function(u){return 0},"Unit, string | Unit":function(u,i){return u.toNumber(i)},"Array | Matrix":e.referToSelf(n=>u=>tr(u,n))});return t.fromJSON=function(n){return parseFloat(n.value)},t}),It="bignumber",Pt=["typed","BigNumber"],Ut=M(It,Pt,r=>{var{typed:e,BigNumber:t}=r;return e("bignumber",{"":function(){return new t(0)},number:function(u){return new t(u+"")},string:function(u){var i=u.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(i){var f=i[2],l=t(i[1]),o=new t(2).pow(Number(f));if(l.gt(o.sub(1)))throw new SyntaxError('String "'.concat(u,'" is out of range'));var F=new t(2).pow(Number(f)-1);return l.gte(F)?l.sub(o):l}return new t(u)},BigNumber:function(u){return u},bigint:function(u){return new t(u.toString())},Unit:e.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Fraction:function(u){return new t(u.n).div(u.d).times(u.s)},null:function(u){return new t(0)},"Array | Matrix":e.referToSelf(n=>u=>tr(u,n))})}),Rt="fraction",qt=["typed","Fraction"],Jt=M(Rt,qt,r=>{var{typed:e,Fraction:t}=r;return e("fraction",{number:function(u){if(!isFinite(u)||isNaN(u))throw new Error(u+" cannot be represented as a fraction");return new t(u)},string:function(u){return new t(u)},"number, number":function(u,i){return new t(u,i)},null:function(u){return new t(0)},BigNumber:function(u){return new t(u.toString())},bigint:function(u){return new t(u.toString())},Fraction:function(u){return u},Unit:e.referToSelf(n=>u=>{var i=u.clone();return i.value=n(u.value),i}),Object:function(u){return new t(u)},"Array | Matrix":e.referToSelf(n=>u=>tr(u,n))})}),ie="matrix",Lt=["typed","Matrix","DenseMatrix","SparseMatrix"],Wt=M(ie,Lt,r=>{var{typed:e,Matrix:t,DenseMatrix:n,SparseMatrix:u}=r;return e(ie,{"":function(){return i([])},string:function(l){return i([],l)},"string, string":function(l,o){return i([],l,o)},Array:function(l){return i(l)},Matrix:function(l){return i(l,l.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});function i(f,l,o){if(l==="dense"||l==="default"||l===void 0)return new n(f,o);if(l==="sparse")return new u(f,o);throw new TypeError("Unknown matrix type "+JSON.stringify(l)+".")}}),oe="abs",Vt=["typed"],Zt=M(oe,Vt,r=>{var{typed:e}=r;return e(oe,{number:Ue,"Complex | BigNumber | Fraction | Unit":t=>t.abs(),bigint:t=>t<0n?-t:t,"Array | Matrix":e.referToSelf(t=>n=>tr(n,t))})}),De="addScalar",Ht=["typed"],Gt=M(De,Ht,r=>{var{typed:e}=r;return e(De,{"number, number":Re,"Complex, Complex":function(n,u){return n.add(u)},"BigNumber, BigNumber":function(n,u){return n.plus(u)},"bigint, bigint":function(n,u){return n+u},"Fraction, Fraction":function(n,u){return n.add(u)},"Unit, Unit":e.referToSelf(t=>(n,u)=>{if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(u.value===null||u.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(u))throw new Error("Units do not match");var i=n.clone();return i.value=e.find(t,[i.valueType(),u.valueType()])(i.value,u.value),i.fixPrefix=!1,i})})}),Xt="matAlgo11xS0s",Kt=["typed","equalScalar"],Je=M(Xt,Kt,r=>{var{typed:e,equalScalar:t}=r;return function(u,i,f,l){var o=u._values,F=u._index,D=u._ptr,h=u._size,v=u._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var s=h[0],c=h[1],a,p=t,d=0,E=f;typeof v=="string"&&(a=v,p=e.find(t,[a,a]),d=e.convert(0,a),i=e.convert(i,a),E=e.find(f,[a,a]));for(var A=[],m=[],C=[],w=0;w<c;w++){C[w]=m.length;for(var y=D[w],g=D[w+1],B=y;B<g;B++){var _=F[B],b=l?E(i,o[B]):E(o[B],i);p(b,d)||(m.push(_),A.push(b))}}return C[c]=m.length,u.createSparseMatrix({values:A,index:m,ptr:C,size:[s,c],datatype:a})}}),Qt="matAlgo12xSfs",Yt=["typed","DenseMatrix"],Zr=M(Qt,Yt,r=>{var{typed:e,DenseMatrix:t}=r;return function(u,i,f,l){var o=u._values,F=u._index,D=u._ptr,h=u._size,v=u._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var s=h[0],c=h[1],a,p=f;typeof v=="string"&&(a=v,i=e.convert(i,a),p=e.find(f,[a,a]));for(var d=[],E=[],A=[],m=0;m<c;m++){for(var C=m+1,w=D[m],y=D[m+1],g=w;g<y;g++){var B=F[g];E[B]=o[g],A[B]=C}for(var _=0;_<s;_++)m===0&&(d[_]=[]),A[_]===C?d[_][m]=l?p(i,E[_]):p(E[_],i):d[_][m]=l?p(i,0):p(0,i)}return new t({data:d,size:[s,c],datatype:a})}}),jt="matAlgo14xDs",kt=["typed"],Le=M(jt,kt,r=>{var{typed:e}=r;return function(u,i,f,l){var o=u._data,F=u._size,D=u._datatype,h,v=f;typeof D=="string"&&(h=D,i=e.convert(i,h),v=e.find(f,[h,h]));var s=F.length>0?t(v,0,F,F[0],o,i,l):[];return u.createDenseMatrix({data:s,size:V(F),datatype:h})};function t(n,u,i,f,l,o,F){var D=[];if(u===i.length-1)for(var h=0;h<f;h++)D[h]=F?n(o,l[h]):n(l[h],o);else for(var v=0;v<f;v++)D[v]=t(n,u+1,i,i[u+1],l[v],o,F);return D}}),rn="matAlgo02xDS0",en=["typed","equalScalar"],un=M(rn,en,r=>{var{typed:e,equalScalar:t}=r;return function(u,i,f,l){var o=u._data,F=u._size,D=u._datatype||u.getDataType(),h=i._values,v=i._index,s=i._ptr,c=i._size,a=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(F.length!==c.length)throw new $(F.length,c.length);if(F[0]!==c[0]||F[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+F+") must match Matrix B ("+c+")");if(!h)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var p=F[0],d=F[1],E,A=t,m=0,C=f;typeof D=="string"&&D===a&&D!=="mixed"&&(E=D,A=e.find(t,[E,E]),m=e.convert(0,E),C=e.find(f,[E,E]));for(var w=[],y=[],g=[],B=0;B<d;B++){g[B]=y.length;for(var _=s[B],b=s[B+1],N=_;N<b;N++){var x=v[N],S=l?C(h[N],o[x][B]):C(o[x][B],h[N]);A(S,m)||(y.push(x),w.push(S))}}return g[d]=y.length,i.createSparseMatrix({values:w,index:y,ptr:g,size:[p,d],datatype:D===u._datatype&&a===i._datatype?E:void 0})}}),tn="matAlgo03xDSf",nn=["typed"],We=M(tn,nn,r=>{var{typed:e}=r;return function(n,u,i,f){var l=n._data,o=n._size,F=n._datatype||n.getDataType(),D=u._values,h=u._index,v=u._ptr,s=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==s.length)throw new $(o.length,s.length);if(o[0]!==s[0]||o[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+s+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var a=o[0],p=o[1],d,E=0,A=i;typeof F=="string"&&F===c&&F!=="mixed"&&(d=F,E=e.convert(0,d),A=e.find(i,[d,d]));for(var m=[],C=0;C<a;C++)m[C]=[];for(var w=[],y=[],g=0;g<p;g++){for(var B=g+1,_=v[g],b=v[g+1],N=_;N<b;N++){var x=h[N];w[x]=f?A(D[N],l[x][g]):A(l[x][g],D[N]),y[x]=B}for(var S=0;S<a;S++)y[S]===B?m[S][g]=w[S]:m[S][g]=f?A(E,l[S][g]):A(l[S][g],E)}return n.createDenseMatrix({data:m,size:[a,p],datatype:F===n._datatype&&c===u._datatype?d:void 0})}}),an="matAlgo13xDD",on=["typed"],Dn=M(an,on,r=>{var{typed:e}=r;return function(u,i,f){var l=u._data,o=u._size,F=u._datatype,D=i._data,h=i._size,v=i._datatype,s=[];if(o.length!==h.length)throw new $(o.length,h.length);for(var c=0;c<o.length;c++){if(o[c]!==h[c])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+h+")");s[c]=o[c]}var a,p=f;typeof F=="string"&&F===v&&(a=F,p=e.find(f,[a,a]));var d=s.length>0?t(p,0,s,s[0],l,D):[];return u.createDenseMatrix({data:d,size:s,datatype:a})};function t(n,u,i,f,l,o){var F=[];if(u===i.length-1)for(var D=0;D<f;D++)F[D]=n(l[D],o[D]);else for(var h=0;h<f;h++)F[h]=t(n,u+1,i,i[u+1],l[h],o[h]);return F}});function W(r,e){if(er(r.size(),e.size()))return[r,e];var t=Oe(r.size(),e.size());return[r,e].map(n=>sn(n,t))}function sn(r,e){return er(r.size(),e)?r:r.create(Ir(r.valueOf(),e),r.datatype())}var fn="matrixAlgorithmSuite",cn=["typed","matrix"],br=M(fn,cn,r=>{var{typed:e,matrix:t}=r,n=Dn({typed:e}),u=Le({typed:e});return function(f){var l=f.elop,o=f.SD||f.DS,F;l?(F={"DenseMatrix, DenseMatrix":(s,c)=>n(...W(s,c),l),"Array, Array":(s,c)=>n(...W(t(s),t(c)),l).valueOf(),"Array, DenseMatrix":(s,c)=>n(...W(t(s),c),l),"DenseMatrix, Array":(s,c)=>n(...W(s,t(c)),l)},f.SS&&(F["SparseMatrix, SparseMatrix"]=(s,c)=>f.SS(...W(s,c),l,!1)),f.DS&&(F["DenseMatrix, SparseMatrix"]=(s,c)=>f.DS(...W(s,c),l,!1),F["Array, SparseMatrix"]=(s,c)=>f.DS(...W(t(s),c),l,!1)),o&&(F["SparseMatrix, DenseMatrix"]=(s,c)=>o(...W(c,s),l,!0),F["SparseMatrix, Array"]=(s,c)=>o(...W(t(c),s),l,!0))):(F={"DenseMatrix, DenseMatrix":e.referToSelf(s=>(c,a)=>n(...W(c,a),s)),"Array, Array":e.referToSelf(s=>(c,a)=>n(...W(t(c),t(a)),s).valueOf()),"Array, DenseMatrix":e.referToSelf(s=>(c,a)=>n(...W(t(c),a),s)),"DenseMatrix, Array":e.referToSelf(s=>(c,a)=>n(...W(c,t(a)),s))},f.SS&&(F["SparseMatrix, SparseMatrix"]=e.referToSelf(s=>(c,a)=>f.SS(...W(c,a),s,!1))),f.DS&&(F["DenseMatrix, SparseMatrix"]=e.referToSelf(s=>(c,a)=>f.DS(...W(c,a),s,!1)),F["Array, SparseMatrix"]=e.referToSelf(s=>(c,a)=>f.DS(...W(t(c),a),s,!1))),o&&(F["SparseMatrix, DenseMatrix"]=e.referToSelf(s=>(c,a)=>o(...W(a,c),s,!0)),F["SparseMatrix, Array"]=e.referToSelf(s=>(c,a)=>o(...W(t(a),c),s,!0))));var D=f.scalar||"any",h=f.Ds||f.Ss;h&&(l?(F["DenseMatrix,"+D]=(s,c)=>u(s,c,l,!1),F[D+", DenseMatrix"]=(s,c)=>u(c,s,l,!0),F["Array,"+D]=(s,c)=>u(t(s),c,l,!1).valueOf(),F[D+", Array"]=(s,c)=>u(t(c),s,l,!0).valueOf()):(F["DenseMatrix,"+D]=e.referToSelf(s=>(c,a)=>u(c,a,s,!1)),F[D+", DenseMatrix"]=e.referToSelf(s=>(c,a)=>u(a,c,s,!0)),F["Array,"+D]=e.referToSelf(s=>(c,a)=>u(t(c),a,s,!1).valueOf()),F[D+", Array"]=e.referToSelf(s=>(c,a)=>u(t(a),c,s,!0).valueOf())));var v=f.sS!==void 0?f.sS:f.Ss;return l?(f.Ss&&(F["SparseMatrix,"+D]=(s,c)=>f.Ss(s,c,l,!1)),v&&(F[D+", SparseMatrix"]=(s,c)=>v(c,s,l,!0))):(f.Ss&&(F["SparseMatrix,"+D]=e.referToSelf(s=>(c,a)=>f.Ss(c,a,s,!1))),v&&(F[D+", SparseMatrix"]=e.referToSelf(s=>(c,a)=>v(a,c,s,!0)))),l&&l.signatures&&$u(F,l.signatures),F}}),ln="matAlgo01xDSid",vn=["typed"],pn=M(ln,vn,r=>{var{typed:e}=r;return function(n,u,i,f){var l=n._data,o=n._size,F=n._datatype||n.getDataType(),D=u._values,h=u._index,v=u._ptr,s=u._size,c=u._datatype||u._data===void 0?u._datatype:u.getDataType();if(o.length!==s.length)throw new $(o.length,s.length);if(o[0]!==s[0]||o[1]!==s[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+s+")");if(!D)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var a=o[0],p=o[1],d=typeof F=="string"&&F!=="mixed"&&F===c?F:void 0,E=d?e.find(i,[d,d]):i,A,m,C=[];for(A=0;A<a;A++)C[A]=[];var w=[],y=[];for(m=0;m<p;m++){for(var g=m+1,B=v[m],_=v[m+1],b=B;b<_;b++)A=h[b],w[A]=f?E(D[b],l[A][m]):E(l[A][m],D[b]),y[A]=g;for(A=0;A<a;A++)y[A]===g?C[A][m]=w[A]:C[A][m]=l[A][m]}return n.createDenseMatrix({data:C,size:[a,p],datatype:F===n._datatype&&c===u._datatype?d:void 0})}}),hn="matAlgo04xSidSid",Fn=["typed","equalScalar"],An=M(hn,Fn,r=>{var{typed:e,equalScalar:t}=r;return function(u,i,f){var l=u._values,o=u._index,F=u._ptr,D=u._size,h=u._datatype||u._data===void 0?u._datatype:u.getDataType(),v=i._values,s=i._index,c=i._ptr,a=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(D.length!==a.length)throw new $(D.length,a.length);if(D[0]!==a[0]||D[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+a+")");var d=D[0],E=D[1],A,m=t,C=0,w=f;typeof h=="string"&&h===p&&h!=="mixed"&&(A=h,m=e.find(t,[A,A]),C=e.convert(0,A),w=e.find(f,[A,A]));var y=l&&v?[]:void 0,g=[],B=[],_=l&&v?[]:void 0,b=l&&v?[]:void 0,N=[],x=[],S,z,T,P,R;for(z=0;z<E;z++){B[z]=g.length;var O=z+1;for(P=F[z],R=F[z+1],T=P;T<R;T++)S=o[T],g.push(S),N[S]=O,_&&(_[S]=l[T]);for(P=c[z],R=c[z+1],T=P;T<R;T++)if(S=s[T],N[S]===O){if(_){var G=w(_[S],v[T]);m(G,C)?N[S]=null:_[S]=G}}else g.push(S),x[S]=O,b&&(b[S]=v[T]);if(_&&b)for(T=B[z];T<g.length;)S=g[T],N[S]===O?(y[T]=_[S],T++):x[S]===O?(y[T]=b[S],T++):g.splice(T,1)}return B[E]=g.length,u.createSparseMatrix({values:y,index:g,ptr:B,size:[d,E],datatype:h===u._datatype&&p===i._datatype?A:void 0})}}),dn="matAlgo10xSids",En=["typed","DenseMatrix"],gn=M(dn,En,r=>{var{typed:e,DenseMatrix:t}=r;return function(u,i,f,l){var o=u._values,F=u._index,D=u._ptr,h=u._size,v=u._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var s=h[0],c=h[1],a,p=f;typeof v=="string"&&(a=v,i=e.convert(i,a),p=e.find(f,[a,a]));for(var d=[],E=[],A=[],m=0;m<c;m++){for(var C=m+1,w=D[m],y=D[m+1],g=w;g<y;g++){var B=F[g];E[B]=o[g],A[B]=C}for(var _=0;_<s;_++)m===0&&(d[_]=[]),A[_]===C?d[_][m]=l?p(i,E[_]):p(E[_],i):d[_][m]=i}return new t({data:d,size:[s,c],datatype:a})}}),mn="multiplyScalar",Cn=["typed"],yn=M(mn,Cn,r=>{var{typed:e}=r;return e("multiplyScalar",{"number, number":qe,"Complex, Complex":function(n,u){return n.mul(u)},"BigNumber, BigNumber":function(n,u){return n.times(u)},"bigint, bigint":function(n,u){return n*u},"Fraction, Fraction":function(n,u){return n.mul(u)},"number | Fraction | BigNumber | Complex, Unit":(t,n)=>n.multiply(t),"Unit, number | Fraction | BigNumber | Complex | Unit":(t,n)=>t.multiply(n)})}),wn="matAlgo09xS0Sf",Bn=["typed","equalScalar"],_n=M(wn,Bn,r=>{var{typed:e,equalScalar:t}=r;return function(u,i,f){var l=u._values,o=u._index,F=u._ptr,D=u._size,h=u._datatype||u._data===void 0?u._datatype:u.getDataType(),v=i._values,s=i._index,c=i._ptr,a=i._size,p=i._datatype||i._data===void 0?i._datatype:i.getDataType();if(D.length!==a.length)throw new $(D.length,a.length);if(D[0]!==a[0]||D[1]!==a[1])throw new RangeError("Dimension mismatch. Matrix A ("+D+") must match Matrix B ("+a+")");var d=D[0],E=D[1],A,m=t,C=0,w=f;typeof h=="string"&&h===p&&h!=="mixed"&&(A=h,m=e.find(t,[A,A]),C=e.convert(0,A),w=e.find(f,[A,A]));var y=l&&v?[]:void 0,g=[],B=[],_=y?[]:void 0,b=[],N,x,S,z,T;for(x=0;x<E;x++){B[x]=g.length;var P=x+1;if(_)for(z=c[x],T=c[x+1],S=z;S<T;S++)N=s[S],b[N]=P,_[N]=v[S];for(z=F[x],T=F[x+1],S=z;S<T;S++)if(N=o[S],_){var R=b[N]===P?_[N]:C,O=w(l[S],R);m(O,C)||(g.push(N),y.push(O))}else g.push(N)}return B[E]=g.length,u.createSparseMatrix({values:y,index:g,ptr:B,size:[d,E],datatype:h===u._datatype&&p===i._datatype?A:void 0})}}),se="dotMultiply",bn=["typed","matrix","equalScalar","multiplyScalar","concat"],Sn=M(se,bn,r=>{var{typed:e,matrix:t,equalScalar:n,multiplyScalar:u,concat:i}=r,f=un({typed:e,equalScalar:n}),l=_n({typed:e,equalScalar:n}),o=Je({typed:e,equalScalar:n}),F=br({typed:e,matrix:t,concat:i});return e(se,F({elop:u,SS:l,DS:f,Ss:o}))}),Nn="matAlgo07xSSf",xn=["typed","DenseMatrix"],Ve=M(Nn,xn,r=>{var{typed:e,DenseMatrix:t}=r;return function(i,f,l){var o=i._size,F=i._datatype||i._data===void 0?i._datatype:i.getDataType(),D=f._size,h=f._datatype||f._data===void 0?f._datatype:f.getDataType();if(o.length!==D.length)throw new $(o.length,D.length);if(o[0]!==D[0]||o[1]!==D[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+D+")");var v=o[0],s=o[1],c,a=0,p=l;typeof F=="string"&&F===h&&F!=="mixed"&&(c=F,a=e.convert(0,c),p=e.find(l,[c,c]));var d,E,A=[];for(d=0;d<v;d++)A[d]=[];var m=[],C=[],w=[],y=[];for(E=0;E<s;E++){var g=E+1;for(n(i,E,w,m,g),n(f,E,y,C,g),d=0;d<v;d++){var B=w[d]===g?m[d]:a,_=y[d]===g?C[d]:a;A[d][E]=p(B,_)}}return new t({data:A,size:[v,s],datatype:F===i._datatype&&h===f._datatype?c:void 0})};function n(u,i,f,l,o){for(var F=u._values,D=u._index,h=u._ptr,v=h[i],s=h[i+1];v<s;v++){var c=D[v];f[c]=o,l[c]=F[v]}}}),fe="concat",Mn=["typed","matrix","isInteger"],Tn=M(fe,Mn,r=>{var{typed:e,matrix:t,isInteger:n}=r;return e(fe,{"...Array | Matrix | number | BigNumber":function(i){var f,l=i.length,o=-1,F,D=!1,h=[];for(f=0;f<l;f++){var v=i[f];if(K(v)&&(D=!0),I(v)||Z(v)){if(f!==l-1)throw new Error("Dimension must be specified as last argument");if(F=o,o=v.valueOf(),!n(o))throw new TypeError("Integer number expected for dimension");if(o<0||f>0&&o>F)throw new nr(o,F+1)}else{var s=V(v).valueOf(),c=Q(s);if(h[f]=s,F=o,o=c.length-1,f>0&&o!==F)throw new $(F+1,o+1)}}if(h.length===0)throw new SyntaxError("At least one matrix expected");for(var a=h.shift();h.length;)a=ze(a,h.shift(),o);return D?t(a):a},"...string":function(i){return i.join("")}})});function zn(){throw new Error('No "bignumber" implementation available')}function On(){throw new Error('No "fraction" implementation available')}var ce="zeros",$n=["typed","config","matrix","BigNumber"],In=M(ce,$n,r=>{var{typed:e,config:t,matrix:n,BigNumber:u}=r;return e(ce,{"":function(){return t.matrix==="Array"?i([]):i([],"default")},"...number | BigNumber | string":function(F){var D=F[F.length-1];if(typeof D=="string"){var h=F.pop();return i(F,h)}else return t.matrix==="Array"?i(F):i(F,"default")},Array:i,Matrix:function(F){var D=F.storage();return i(F.valueOf(),D)},"Array | Matrix, string":function(F,D){return i(F.valueOf(),D)}});function i(o,F){var D=f(o),h=D?new u(0):0;if(l(o),F){var v=n(F);return o.length>0?v.resize(o,h):v}else{var s=[];return o.length>0?Or(s,o,h):s}}function f(o){var F=!1;return o.forEach(function(D,h,v){Z(D)&&(F=!0,v[h]=D.toNumber())}),F}function l(o){o.forEach(function(F){if(typeof F!="number"||!J(F)||F<0)throw new Error("Parameters in function zeros must be positive integers")})}});function Dr(r,e,t){var n;return String(r).includes("Unexpected type")?(n=arguments.length>2?" (type: "+j(t)+", value: "+JSON.stringify(t)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+n)):String(r).includes("complex numbers")?(n=arguments.length>2?" (type: "+j(t)+", value: "+JSON.stringify(t)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+n)):r}var Pn="numeric",Un=["number","?bignumber","?fraction"],Rn=M(Pn,Un,r=>{var{number:e,bignumber:t,fraction:n}=r,u={string:!0,number:!0,BigNumber:!0,Fraction:!0},i={number:f=>e(f),BigNumber:t?f=>t(f):zn,bigint:f=>BigInt(f),Fraction:n?f=>n(f):On};return function(l){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",F=arguments.length>2?arguments[2]:void 0;if(F!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var D=j(l);if(!(D in u))throw new TypeError("Cannot convert "+l+' of type "'+D+'"; valid input types are '+Object.keys(u).join(", "));if(!(o in i))throw new TypeError("Cannot convert "+l+' to type "'+o+'"; valid output types are '+Object.keys(i).join(", "));return o===D?l:i[o](l)}}),ir="Number of decimals in function round must be an integer",le="round",qn=["typed","config","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Jn=M(le,qn,r=>{var{typed:e,config:t,matrix:n,equalScalar:u,zeros:i,BigNumber:f,DenseMatrix:l}=r,o=Je({typed:e,equalScalar:u}),F=Zr({typed:e,DenseMatrix:l}),D=Le({typed:e});function h(v){return Math.abs(pr(v).exponent)}return e(le,{number:function(s){var c=fr(s,h(t.relTol)),a=ur(s,c,t.relTol,t.absTol)?c:s;return fr(a)},"number, number":function(s,c){var a=h(t.relTol);if(c>=a)return fr(s,c);var p=fr(s,a),d=ur(s,p,t.relTol,t.absTol)?p:s;return fr(d,c)},"number, BigNumber":function(s,c){if(!c.isInteger())throw new TypeError(ir);return new f(s).toDecimalPlaces(c.toNumber())},Complex:function(s){return s.round()},"Complex, number":function(s,c){if(c%1)throw new TypeError(ir);return s.round(c)},"Complex, BigNumber":function(s,c){if(!c.isInteger())throw new TypeError(ir);var a=c.toNumber();return s.round(a)},BigNumber:function(s){var c=new f(s).toDecimalPlaces(h(t.relTol)),a=vr(s,c,t.relTol,t.absTol)?c:s;return a.toDecimalPlaces(0)},"BigNumber, BigNumber":function(s,c){if(!c.isInteger())throw new TypeError(ir);var a=h(t.relTol);if(c>=a)return s.toDecimalPlaces(c.toNumber());var p=s.toDecimalPlaces(a),d=vr(s,p,t.relTol,t.absTol)?p:s;return d.toDecimalPlaces(c.toNumber())},Fraction:function(s){return s.round()},"Fraction, number":function(s,c){if(c%1)throw new TypeError(ir);return s.round(c)},"Fraction, BigNumber":function(s,c){if(!c.isInteger())throw new TypeError(ir);return s.round(c.toNumber())},"Unit, number, Unit":e.referToSelf(v=>function(s,c,a){var p=s.toNumeric(a);return a.multiply(v(p,c))}),"Unit, BigNumber, Unit":e.referToSelf(v=>(s,c,a)=>v(s,c.toNumber(),a)),"Unit, Unit":e.referToSelf(v=>(s,c)=>v(s,0,c)),"Array | Matrix, number, Unit":e.referToSelf(v=>(s,c,a)=>tr(s,p=>v(p,c,a))),"Array | Matrix, BigNumber, Unit":e.referToSelf(v=>(s,c,a)=>v(s,c.toNumber(),a)),"Array | Matrix, Unit":e.referToSelf(v=>(s,c)=>v(s,0,c)),"Array | Matrix":e.referToSelf(v=>s=>tr(s,v)),"SparseMatrix, number | BigNumber":e.referToSelf(v=>(s,c)=>o(s,c,v,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(v=>(s,c)=>D(s,c,v,!1)),"Array, number | BigNumber":e.referToSelf(v=>(s,c)=>D(n(s),c,v,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(v=>(s,c)=>u(s,0)?i(c.size(),c.storage()):F(c,s,v,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(v=>(s,c)=>u(s,0)?i(c.size(),c.storage()):D(c,s,v,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(v=>(s,c)=>D(n(c),s,v,!0).valueOf())})}),yr="smaller",Ln=["typed","config","matrix","DenseMatrix","concat"],Wn=M(yr,Ln,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:u,concat:i}=r,f=We({typed:e}),l=Ve({typed:e,DenseMatrix:u}),o=Zr({typed:e,DenseMatrix:u}),F=br({typed:e,matrix:n,concat:i}),D=Vr({typed:e});return e(yr,Vn({typed:e,config:t}),{"boolean, boolean":(h,v)=>h<v,"BigNumber, BigNumber":function(v,s){return v.lt(s)&&!vr(v,s,t.relTol,t.absTol)},"bigint, bigint":(h,v)=>h<v,"Fraction, Fraction":(h,v)=>h.compare(v)===-1,"Complex, Complex":function(v,s){throw new TypeError("No ordering relation is defined for complex numbers")}},D,F({SS:l,DS:f,Ss:o}))}),Vn=M(yr,["typed","config"],r=>{var{typed:e,config:t}=r;return e(yr,{"number, number":function(u,i){return u<i&&!ur(u,i,t.relTol,t.absTol)}})}),wr="larger",Zn=["typed","config","matrix","DenseMatrix","concat"],Hn=M(wr,Zn,r=>{var{typed:e,config:t,matrix:n,DenseMatrix:u,concat:i}=r,f=We({typed:e}),l=Ve({typed:e,DenseMatrix:u}),o=Zr({typed:e,DenseMatrix:u}),F=br({typed:e,matrix:n,concat:i}),D=Vr({typed:e});return e(wr,Gn({typed:e,config:t}),{"boolean, boolean":(h,v)=>h>v,"BigNumber, BigNumber":function(v,s){return v.gt(s)&&!vr(v,s,t.relTol,t.absTol)},"bigint, bigint":(h,v)=>h>v,"Fraction, Fraction":(h,v)=>h.compare(v)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},D,F({SS:l,DS:f,Ss:o}))}),Gn=M(wr,["typed","config"],r=>{var{typed:e,config:t}=r;return e(wr,{"number, number":function(u,i){return u>i&&!ur(u,i,t.relTol,t.absTol)}})}),ve="max",Xn=["typed","config","numeric","larger"],Kn=M(ve,Xn,r=>{var{typed:e,config:t,numeric:n,larger:u}=r;return e(ve,{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(o,F){return Wr(o,F.valueOf(),i)},"...":function(o){if(Lr(o))throw new TypeError("Scalar values expected in function max");return f(o)}});function i(l,o){try{return u(l,o)?l:o}catch(F){throw Dr(F,"max",o)}}function f(l){var o;if(_r(l,function(F){try{isNaN(F)&&typeof F=="number"?o=NaN:(o===void 0||u(F,o))&&(o=F)}catch(D){throw Dr(D,"max",F)}}),o===void 0)throw new Error("Cannot calculate max of an empty array");return typeof o=="string"&&(o=n(o,Rr(o,t))),o}}),pe="min",Qn=["typed","config","numeric","smaller"],Yn=M(pe,Qn,r=>{var{typed:e,config:t,numeric:n,smaller:u}=r;return e(pe,{"Array | Matrix":f,"Array | Matrix, number | BigNumber":function(o,F){return Wr(o,F.valueOf(),i)},"...":function(o){if(Lr(o))throw new TypeError("Scalar values expected in function min");return f(o)}});function i(l,o){try{return u(l,o)?l:o}catch(F){throw Dr(F,"min",o)}}function f(l){var o;if(_r(l,function(F){try{isNaN(F)&&typeof F=="number"?o=NaN:(o===void 0||u(F,o))&&(o=F)}catch(D){throw Dr(D,"min",F)}}),o===void 0)throw new Error("Cannot calculate min of an empty array");return typeof o=="string"&&(o=n(o,Rr(o,t))),o}}),he="add",jn=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],kn=M(he,jn,r=>{var{typed:e,matrix:t,addScalar:n,equalScalar:u,DenseMatrix:i,SparseMatrix:f,concat:l}=r,o=pn({typed:e}),F=An({typed:e,equalScalar:u}),D=gn({typed:e,DenseMatrix:i}),h=br({typed:e,matrix:t,concat:l});return e(he,{"any, any":n,"any, any, ...any":e.referToSelf(v=>(s,c,a)=>{for(var p=v(s,c),d=0;d<a.length;d++)p=v(p,a[d]);return p})},h({elop:n,DS:o,SS:F,Ss:D}))}),Fe="sum",ra=["typed","config","add","numeric"],ea=M(Fe,ra,r=>{var{typed:e,config:t,add:n,numeric:u}=r;return e(Fe,{"Array | Matrix":i,"Array | Matrix, number | BigNumber":f,"...":function(o){if(Lr(o))throw new TypeError("Scalar values expected in function sum");return i(o)}});function i(l){var o;return _r(l,function(F){try{o=o===void 0?F:n(o,F)}catch(D){throw Dr(D,"sum",F)}}),o===void 0&&(o=u(0,t.number)),typeof o=="string"&&(o=u(o,Rr(o,t))),o}function f(l,o){try{var F=Wr(l,o,n);return F}catch(D){throw Dr(D,"sum")}}}),Sr=Yu({config:k}),ua=rt({}),Ze=tt({}),Hr=it({}),sr=gt({Matrix:Hr}),L=Gu({BigNumber:Sr,Complex:ua,DenseMatrix:sr,Fraction:Ze}),ha=Zt({typed:L}),ta=Gt({typed:L}),Nr=bt({config:k,typed:L}),na=yt({typed:L}),aa=yn({typed:L}),ia=$t({typed:L}),He=xt({Matrix:Hr,equalScalar:Nr,typed:L}),oa=Ut({BigNumber:Sr,typed:L}),Da=Jt({Fraction:Ze,typed:L}),ar=Wt({DenseMatrix:sr,Matrix:Hr,SparseMatrix:He,typed:L}),Gr=Rn({bignumber:oa,fraction:Da,number:ia}),sa=In({BigNumber:Sr,config:k,matrix:ar,typed:L}),xr=Tn({isInteger:na,matrix:ar,typed:L}),Fa=Jn({BigNumber:Sr,DenseMatrix:sr,config:k,equalScalar:Nr,matrix:ar,typed:L,zeros:sa}),fa=Wn({DenseMatrix:sr,concat:xr,config:k,matrix:ar,typed:L}),ca=kn({DenseMatrix:sr,SparseMatrix:He,addScalar:ta,concat:xr,equalScalar:Nr,matrix:ar,typed:L}),la=Hn({DenseMatrix:sr,concat:xr,config:k,matrix:ar,typed:L}),Aa=Yn({config:k,numeric:Gr,smaller:fa,typed:L}),da=ea({add:ca,config:k,numeric:Gr,typed:L}),Ea=Sn({concat:xr,equalScalar:Nr,matrix:ar,multiplyScalar:aa,typed:L}),ga=Kn({config:k,larger:la,numeric:Gr,typed:L});export{ha as a,ga as b,Ea as d,Aa as m,ia as n,Fa as r,da as s};
